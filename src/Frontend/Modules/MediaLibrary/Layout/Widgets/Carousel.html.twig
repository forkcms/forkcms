{#
  Bootstrap Carousel
  Variables that are available:
  - {{ mediaGroupId }}: Contains the id of the mediaGroup, we need it for multiple carousels on the same page
  - {{ mediaItems }}: Contains the MediaItem items
  - {{ title }}: A custom optional title that you can give when parsing from Custom module
#}

{% if mediaItems %}
  <section class="module-media-library widget-media-library-carousel" itemscope itemtype="http://schema.org/ImageGallery">
    {% block widget_heading %}
      {% if title %}
        <header class="widget-heading">
          <h3>{{ title|ucfirst }}</h3>
        </header>
      {% endif %}
    {% endblock %}

    {% block widget_body %}
      <div class="widget-body">
        <div id="myCarousel{{ mediaGroupId }}" class="carousel slide" data-ride="carousel" data-interval="5000" data-pause="hover" data-wrap="true">
          <!-- Indicators -->
          <ol class="carousel-indicators">
            {% for banner in banners %}
              <li data-target="#myCarousel{{ mediaGroupId }}" data-slide-to="{{ loop.index }}"{% if loop.first %} class="active"{% endif %}></li>
            {% endfor %}
          </ol>

          <!-- Wrapper for slides -->
          <div class="carousel-inner">
            {% for mediaItem in mediaItems %}
              <div class="item{% if loop.first %} active{% endif %}">
                <img src="{{ (mediaItem.getWebPath()) | imagine_filter(imagineFilter) }}" alt="{{ mediaItem.title }}" />
                <div class="carousel-caption"><!-- You can put content in here --></div>
              </div>
            {% endfor %}
          </div>

          <!-- Left and right controls -->
          {% if mediaItems.count > 1 %}
            <a class="left carousel-control" href="#myCarousel{{ mediaGroupId }}" data-slide="prev">
              <span class="glyphicon glyphicon-chevron-left fa fa-chevron-left"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#myCarousel{{ mediaGroupId }}" data-slide="next">
              <span class="glyphicon glyphicon-chevron-right fa fa-chevron-right"></span>
              <span class="sr-only">Next</span>
            </a>
          {% endif %}
        </div>
        <div class="icon"></div>
      </div>
    {% endblock %}
  </section>
{% endif %}
