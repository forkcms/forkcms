{#
    The variables that are available to use:
    - $mailMotorUnsubscribeHasFormError
    - $mailMotorUnsubscribeHasError
    - $mailMotorUnsubscribeIsSuccess
    - $mailMotorUnsubscribeHideForm
#}
{% import 'Core/Layout/Templates/Alerts.html.twig' as alerts %}

{% import 'Core/Layout/Templates/Alerts.html.twig' as alerts %}

<section class="module-mailmotor block-mailmotor-unsubscribe">
  {% block block_alerts %}
    <div class="block-alerts">
      {% if mailmotorUnsubscribeHasFormError %}
        {{ alerts.alert('danger', 'err.FormError'|trans|raw) }}
      {% endif %}
      {% if mailmotorUnsubscribeHasError %}
        {{ alerts.alert('danger', 'err.UnsubscribeFailed'|trans|raw) }}
      {% endif %}
      {% if mailmotorUnsubscribeIsSuccess %}
        {{ alerts.alert('success', 'msg.UnsubscribeSuccess'|trans|raw) }}
      {% endif %}
    </div>
  {% endblock %}

  {% block block_heading %}{% endblock %}

  {% block block_body %}
    <div class="block-body">
      {% if not mailmotorUnsubscribeHideForm %}
        {{ form_start(form) }}
        <div class="form-group">
          <label for="{{ form.email.vars.id }}" class="control-label">{{ form.email.vars.label|trans|ucfirst }}</label>
          <div class="input-group">
            {{ form_widget(form.email) }}
            <div class="input-group-btn">
              <button type="submit" id="{{ form.unsubscribe.vars.id }}" class="btn btn-primary">{{ form.unsubscribe.vars.label|trans }}</button>
              {% do form.unsubscribe.setRendered %}
            </div>
          </div>
          {{ form_errors(form.email) }}
        </div>
        {{ form_rest(form) }}
        {{ form_end(form) }}
      {% endif %}
    </div>
  {% endblock %}

  {% block block_footer %}{% endblock %}
</section>
