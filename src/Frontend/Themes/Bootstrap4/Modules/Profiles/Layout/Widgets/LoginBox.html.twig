{#
  variables that are available:
  - {{ widgetProfilesLoginBox }}:
#}

<section id="profilesLoginBoxWidget" class="profiles">
  {% if isLoggedIn %}
    {{ 'msg.ProfilesLoggedInAs'|trans|format(profile.display_name, profile.url.dashboard)|raw }} -
    <a href="{{ profile.url.settings }}">{{ 'lbl.Settings'|trans|ucfirst }}</a>
  {% else %}
    <header>
      <h3>{{ 'lbl.Login'|trans|ucfirst }}</h3>
    </header>
    {% form login %}
      <fieldset>
        <div class="form-group row{% if txtEmailError %} has-danger{% endif %}">
          <label class="form-control-label col-sm-2" for="email">{{ 'lbl.Email'|trans|ucfirst }}<abbr title="{{ 'lbl.RequiredField'|trans|ucfirst }}">*</abbr></label>
          <div class="col-sm-6">
            {% form_field_error email %}{% form_field email %}
          </div>
        </div>
        <div class="form-group row{% if txtPasswordError %} has-danger{% endif %}">
          <label class="form-control-label col-sm-2" for="password">{{ 'lbl.Password'|trans|ucfirst }}<abbr title="{{ 'lbl.RequiredField'|trans|ucfirst }}">*</abbr></label>
          <div class="col-sm-6">
            {% form_field_error password %}{% form_field password %}
          </div>
        </div>
        <div class="form-group row">
          <div class="offset-sm-2 col-sm-6">
          <label for="remember">{% form_field remember %} {{ 'lbl.RememberMe'|trans|ucfirst }}</label>
            {% form_field_error remember %}
          </div>
        </div>
        <div class="form-group row">
          <div class="offset-sm-2 col-sm-6">
            <input class="btn btn-secondary" type="submit" value="{{ 'lbl.Login'|trans|ucfirst }}" />
            <small><a href="{{ geturlforblock('Profiles', 'ForgotPassword') }}" title="{{ 'msg.ForgotPassword'|trans }}">{{ 'msg.ForgotPassword'|trans }}</a></small>
          </div>
        </div>
      </fieldset>
    {% endform %}
  {% endif %}
</section>
