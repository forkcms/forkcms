/*

    Tree layout
    Based on basic tree skin

    @package      backend
    @subpackage   core

    @since        2.0

*/
.pages-tree {
  padding: 20px 25px;
}

#tree {
  // Hide tree on page-load to avoid FOUC. When DOM is ready, we show the page tree.
  display: none;

  h4 {
    font-size: $font-size-base;
    font-weight: 600;
  }
}

.jstree {
  /* The jstree theme we use (proton) from jstree-bootstrap-theme uses a custom font. Override this so we don't load it. */
  font-family: inherit !important;

  li {
    font-size: $font-size-small;
    position: relative;
    display: block;
    min-height: 16px;
    line-height: 16px;
    max-width: 100%;

    // Ensure ellipsis on long pagetree anchors
    a:link,
    a:visited,
    .jstree-anchor {
      display: inline-block;
      white-space: nowrap;
      text-decoration: none;
      border: none !important;
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      border-radius: 4px;
    }

    // Show hidden pages as transparent.
    &[rel="hidden"] a {
      opacity: .5;
    }

    // Bigger home icon
    &[rel="home"] > a > i {
      font-size: 16px;
    }

    /* DEFAULT, HOVER, CLICKED, LOADING STATES */
    .jstree-clicked,
    .jstree-hovered,
    .jstree-children li a:hover,
    .jstree-children li a.active,
    .jstree-children li a.focus {
      background: $brand-primary;
      color: $white;
      border-radius: 4px;

      &:before {
        color: $white;
      }
    }

    // Don't show hover effects while drag and dropping.
    .jstree-dnd-parent .jstree-hovered {
      background: #FFF;
      color: inherit;
      border: none;
      box-shadow: none;
    }

    // No distracting transitions
    .jstree-anchor,
    .jstree-wholerow {
      transition: none;
    }
  }

  // Make tree icons a subtle bit lighter
  &.jstree .jstree-themeicon-custom {
    color: $gray-light;
  }

  // Make sure icon is white on hover/focus
  li a:hover,
  li a.active,
  li a.focus,
  .jstree-clicked {
    .jstree-themeicon-custom {
      color: $white;
    }
  }

  li .jstree-search {
    font-weight: 600;
    font-style: normal;
    color: $brand-primary;
  }
}

// Useful to visually hide items that are not found in page search
.jstree-hidden,
.jstree-node.jstree-hidden {
  display: none;
}


/* FOR DRAGGING */
#jstree-marker {
  padding: 0;
  margin: 0;
  display: block;
  position: absolute;
  z-index: 999;
  width: 16px;
  height: 16px;
  border: none !important;
  margin: 0 !important;

  &:before {
    font-family: FontAwesome;
    content: "\f178";
    font-size: 16px;
    color: $brand-primary;
  }

  &.marker_plus:before {
    font-family: FontAwesome;
    content: "\f0fe";
  }
}
