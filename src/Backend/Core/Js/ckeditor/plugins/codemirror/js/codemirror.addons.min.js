(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function l(d,f){return"pairs"==f&&"string"==typeof d?d:"object"==typeof d&&null!=d[f]?d[f]:q[f]}function n(d){return function(f){return a(f,d)}}function g(d){var f=d.state.closeBrackets,b;return f?(b=d.getModeAt(d.getCursor()),b.closeBrackets||f):null}function a(d,f){var e=g(d),m,a,q,n;if(!e||d.getOption("disableInput")||
(m=l(e,"pairs"),a=m.indexOf(f),-1==a))return c.Pass;for(var B=l(e,"triples"),v=m.charAt(a+1)==f,G=d.listSelections(),F=0==a%2,z,e=0;e<G.length;e++){var x=G[e],u=x.head,E=d.getRange(u,p(u.line,u.ch+1));if(F&&!x.empty())x="surround";else if(!v&&F||E!=f)if(v&&1<u.ch&&0<=B.indexOf(f)&&d.getRange(p(u.line,u.ch-2),u)==f+f&&(2>=u.ch||d.getRange(p(u.line,u.ch-3),p(u.line,u.ch-2))!=f))x="addFour";else if(v)if(!c.isWordChar(E)&&h(d,u,f))x="both";else return c.Pass;else if(F&&(d.getLine(u.line).length==u.ch||
b(E,m)||/\s/.test(E)))x="both";else return c.Pass;else x=v&&k(d,u)?"both":0<=B.indexOf(f)&&d.getRange(u,p(u.line,u.ch+3))==f+f+f?"skipThree":"skip";if(z){if(z!=x)return c.Pass}else z=x}q=a%2?m.charAt(a-1):f;n=a%2?f:m.charAt(a+1);d.operation(function(){var f,b;if("skip"==z)d.execCommand("goCharRight");else if("skipThree"==z)for(b=0;3>b;b++)d.execCommand("goCharRight");else if("surround"==z){f=d.getSelections();for(b=0;b<f.length;b++)f[b]=q+f[b]+n;d.replaceSelections(f,"around");f=d.listSelections().slice();
for(b=0;b<f.length;b++){var e=f,m=b,a;a=f[b];var h=0<c.cmpPos(a.anchor,a.head);a={anchor:new p(a.anchor.line,a.anchor.ch+(h?-1:1)),head:new p(a.head.line,a.head.ch+(h?1:-1))};e[m]=a}d.setSelections(f)}else"both"==z?(d.replaceSelection(q+n,null),d.triggerElectric(q+n),d.execCommand("goCharLeft")):"addFour"==z&&(d.replaceSelection(q+q+q+q,"before"),d.execCommand("goCharRight"))})}function b(d,f){var b=f.lastIndexOf(d);return-1<b&&1==b%2}function e(d,f){var b=d.getRange(p(f.line,f.ch-1),p(f.line,f.ch+
1));return 2==b.length?b:null}function h(d,f,b){var a=d.getLine(f.line),e=d.getTokenAt(f);if(/\bstring2?\b/.test(e.type))return!1;b=new c.StringStream(a.slice(0,f.ch)+b+a.slice(f.ch),4);for(b.pos=b.start=e.start;;){if(a=d.getMode().token(b,e.state),b.pos>=f.ch+1)return/\bstring2?\b/.test(a);b.start=b.pos}}function k(d,f){var b=d.getTokenAt(p(f.line,f.ch+1));return/\bstring/.test(b.type)&&b.start==f.ch}var q={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},p=c.Pos,f,d,m;c.defineOption("autoCloseBrackets",
!1,function(f,b,a){a&&a!=c.Init&&(f.removeKeyMap(d),f.state.closeBrackets=null);b&&(f.state.closeBrackets=b,f.addKeyMap(d))});f=q.pairs+"`";d={Backspace:function(d){var f=g(d),b,a,m;if(!f||d.getOption("disableInput"))return c.Pass;b=l(f,"pairs");f=d.listSelections();for(m=0;m<f.length;m++)if(!f[m].empty()||(a=e(d,f[m].head),!a||0!=b.indexOf(a)%2))return c.Pass;for(m=f.length-1;0<=m;m--)a=f[m].head,d.replaceRange("",p(a.line,a.ch-1),p(a.line,a.ch+1),"+delete")},Enter:function(d){var f=g(d),f=f&&l(f,
"explode"),b,a,m;if(!f||d.getOption("disableInput"))return c.Pass;b=d.listSelections();for(a=0;a<b.length;a++)if(!b[a].empty()||(m=e(d,b[a].head),!m||0!=f.indexOf(m)%2))return c.Pass;d.operation(function(){var f,a;d.replaceSelection("\n\n",null);d.execCommand("goCharLeft");b=d.listSelections();for(f=0;f<b.length;f++)a=b[f].head.line,d.indentLine(a,null,!0),d.indentLine(a+1,null,!0)})}};for(m=0;m<f.length;m++)d["'"+f.charAt(m)+"'"]=n(f.charAt(m))});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],c):c(CodeMirror)})(function(c){function l(h){var k,q,p,f,d,m;if(h.getOption("disableInput"))return c.Pass;k=h.listSelections();q=[];for(d=0;d<k.length;d++){if(!k[d].empty())return c.Pass;m=k[d].head;f=h.getTokenAt(m);var r=c.innerMode(h.getMode(),f.state),t=r.state;if("xml"!=r.mode.name||
!t.tagName)return c.Pass;var l=h.getOption("autoCloseTags"),n="html"==r.mode.configuration,r="object"==typeof l&&l.dontCloseTags||n&&b,n="object"==typeof l&&l.indentTags||n&&e,l=t.tagName;if(f.end>m.ch&&(l=l.slice(0,l.length-f.end+m.ch)),p=l.toLowerCase(),!l||"string"==f.type&&(f.end!=m.ch||!/[\"\']/.test(f.string.charAt(f.string.length-1))||1==f.string.length)||"tag"==f.type&&"closeTag"==t.type||f.string.indexOf("/")==f.string.length-1||r&&-1<g(r,p)||a(h,l,m,t,!0))return c.Pass;f=n&&-1<g(n,p);q[d]=
{indent:f,text:"\x3e"+(f?"\n\n":"")+"\x3c/"+l+"\x3e",newPos:f?c.Pos(m.line+1,0):c.Pos(m.line,m.ch+1)}}for(d=k.length-1;0<=d;d--)p=q[d],h.replaceRange(p.text,k[d].head,k[d].anchor,"+insert"),m=h.listSelections().slice(0),m[d]={head:p.newPos,anchor:p.newPos},h.setSelections(m),p.indent&&(h.indentLine(p.newPos.line,null,!0),h.indentLine(p.newPos.line+1,null,!0))}function n(b,e){for(var q,p=b.listSelections(),f=[],d=e?"/":"\x3c/",m=0;m<p.length;m++){if(!p[m].empty())return c.Pass;var r=p[m].head,t=b.getTokenAt(r);
q=c.innerMode(b.getMode(),t.state);var l=q.state;if(e&&("string"==t.type||"\x3c"!=t.string.charAt(0)||t.start!=r.ch-1))return c.Pass;if("xml"!=q.mode.name)if("htmlmixed"==b.getMode().name&&"javascript"==q.mode.name)q=d+"script";else if("htmlmixed"==b.getMode().name&&"css"==q.mode.name)q=d+"style";else return c.Pass;else{if(!l.context||!l.context.tagName||a(b,l.context.tagName,r,l))return c.Pass;q=d+l.context.tagName}"\x3e"!=b.getLine(r.line).charAt(t.end)&&(q+="\x3e");f[m]=q}b.replaceSelections(f);
p=b.listSelections();for(m=0;m<p.length;m++)(m==p.length-1||p[m].head.line<p[m+1].head.line)&&b.indentLine(p[m].head.line)}function g(b,a){if(b.indexOf)return b.indexOf(a);for(var e=0,c=b.length;e<c;++e)if(b[e]==a)return e;return-1}function a(b,a,e,p,f){var d,m,r;if(!c.scanForClosingTag||(d=Math.min(b.lastLine()+1,e.line+500),m=c.scanForClosingTag(b,e,null,d),!m||m.tag!=a))return!1;e=p.context;for(f=f?1:0;e&&e.tagName==a;e=e.prev)++f;e=m.to;for(m=1;m<f;m++){if(r=c.scanForClosingTag(b,e,null,d),!r||
r.tag!=a)return!1;e=r.to}return!0}c.defineOption("autoCloseTags",!1,function(b,a,e){if(e!=c.Init&&e&&b.removeKeyMap("autoCloseTags"),a)e={name:"autoCloseTags"},("object"!=typeof a||a.whenClosing)&&(e["'/'"]=function(b){return b.getOption("disableInput")?c.Pass:n(b,!0)}),("object"!=typeof a||a.whenOpening)&&(e["'\x3e'"]=function(b){return l(b)}),b.addKeyMap(e)});var b="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),e="applet blockquote body button div dl fieldset form frameset h1 h2 h3 h4 h5 h6 head html iframe layer legend object ol p select table ul".split(" ");
c.commands.closeTag=function(b){return n(b)}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function l(b){var a,h,k,q,p,f,d,m,r,l,g;if(b.getOption("disableInput"))return c.Pass;a=b.listSelections();k=[];for(q=0;q<a.length;q++){if(p=a[q].head,f=b.getTokenAt(p),"comment"!=f.type)return c.Pass;if(d=c.innerMode(b.getMode(),f.state).mode,h){if(h!=d)return c.Pass}else h=d;if(d=null,h.blockCommentStart&&
h.blockCommentContinue){if(m=f.string.indexOf(h.blockCommentEnd),r=b.getRange(c.Pos(p.line,0),c.Pos(p.line,f.end)),-1==m||m!=f.string.length-h.blockCommentEnd.length||!(p.ch>=m))if(0==f.string.indexOf(h.blockCommentStart)){if(d=r.slice(0,f.start),!/^\s*$/.test(d))for(d="",r=0;r<f.start;++r)d+=" "}else-1!=(g=r.indexOf(h.blockCommentContinue))&&g+h.blockCommentContinue.length>f.start&&/^\s*$/.test(r.slice(0,g))&&(d=r.slice(0,g));null!=d&&(d+=h.blockCommentContinue)}if(null==d&&h.lineComment&&n(b)&&
(l=b.getLine(p.line),g=l.indexOf(h.lineComment),-1<g&&(d=l.slice(0,g),/\S/.test(d)?d=null:d+=h.lineComment+l.slice(g+h.lineComment.length).match(/^\s*/)[0])),null==d)return c.Pass;k[q]="\n"+d}b.operation(function(){for(var d=a.length-1;0<=d;d--)b.replaceRange(k[d],a[d].from(),a[d].to(),"+insert")})}function n(b){return(b=b.getOption("continueComments"))&&"object"==typeof b?!1!==b.continueLineComment:!0}for(var g=["clike","css","javascript"],a=0;a<g.length;++a)c.extendMode(g[a],{blockCommentContinue:" * "});
c.defineOption("continueComments",null,function(b,a,h){var k,q;h&&h!=c.Init&&b.removeKeyMap("continueComment");a&&(k="Enter","string"==typeof a?k=a:"object"==typeof a&&a.key&&(k=a.key),q={name:"continueComment"},q[k]=l,b.addKeyMap(q))})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function l(b,a,f,d){var m=b.getLineHandle(a.line),c=a.ch-1,m=0<=c&&h[m.text.charAt(c)]||h[m.text.charAt(++c)],k,l,g;return m?(k="\x3e"==m.charAt(1)?1:-1,f&&0<k!=(c==a.ch))?null:(l=b.getTokenTypeAt(e(a.line,c+1)),g=n(b,e(a.line,c+(0<k?1:0)),k,l||null,d),null==g)?null:{from:e(a.line,c),to:g&&g.pos,match:g&&
g.ch==m.charAt(0),forward:0<k}:null}function n(b,a,f,d,m){var c,k,l,g,n,A=m&&m.maxScanLineLength||1E4,D=m&&m.maxScanLines||1E3,B=[];m=m&&m.bracketRegex?m.bracketRegex:/[(){}[\]]/;for(var D=0<f?Math.min(a.line+D,b.lastLine()+1):Math.max(b.firstLine()-1,a.line-D),v=a.line;v!=D;v+=f)if((c=b.getLine(v),c)&&(k=0<f?0:c.length-1,l=0<f?c.length:-1,!(c.length>A)))for(v==a.line&&(k=a.ch-(0>f?1:0));k!=l;k+=f)if(g=c.charAt(k),m.test(g)&&(void 0===d||b.getTokenTypeAt(e(v,k+1))==d))if(n=h[g],"\x3e"==n.charAt(1)==
0<f)B.push(g);else if(B.length)B.pop();else return{pos:e(v,k),ch:g};return v-f==(0<f?b.lastLine():b.firstLine())?!1:null}function g(a,c,f){for(var d,m,h=a.state.matchBrackets.maxHighlightLineLength||1E3,k=[],g=a.listSelections(),n=0;n<g.length;n++)(d=g[n].empty()&&l(a,g[n].head,!1,f))&&a.getLine(d.from.line).length<=h&&(m=d.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",k.push(a.markText(d.from,e(d.from.line,d.from.ch+1),{className:m})),d.to&&a.getLine(d.to.line).length<=h&&k.push(a.markText(d.to,
e(d.to.line,d.to.ch+1),{className:m})));if(k.length)if(b&&a.state.focused&&a.focus(),f=function(){a.operation(function(){for(var d=0;d<k.length;d++)k[d].clear()})},c)setTimeout(f,800);else return f}function a(b){b.operation(function(){k&&(k(),k=null);k=g(b,!1,b.state.matchBrackets)})}var b=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),e=c.Pos,h={"(":")\x3e",")":"(\x3c","[":"]\x3e","]":"[\x3c","{":"}\x3e","}":"{\x3c"},k=null;c.defineOption("matchBrackets",
!1,function(b,e,f){if(f&&f!=c.Init&&(b.off("cursorActivity",a),k&&(k(),k=null)),e)b.state.matchBrackets="object"==typeof e?e:{},b.on("cursorActivity",a)});c.defineExtension("matchBrackets",function(){g(this,!0)});c.defineExtension("findMatchingBracket",function(b,a,f){return l(this,b,a,f)});c.defineExtension("scanForBracket",function(b,a,f,d){return n(this,b,a,f,d)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],c):c(CodeMirror)})(function(c){function l(a){a.state.tagHit&&a.state.tagHit.clear();a.state.tagOther&&a.state.tagOther.clear();a.state.tagHit=a.state.tagOther=null}function n(a){a.state.failedTagMatch=!1;a.operation(function(){var b,e,h,k,g;(l(a),a.somethingSelected())||(b=a.getCursor(),
e=a.getViewport(),e.from=Math.min(e.from,b.line),e.to=Math.max(b.line+1,e.to),h=c.findMatchingTag(a,b,e),h)&&(a.state.matchBothTags&&(k="open"==h.at?h.open:h.close,k&&(a.state.tagHit=a.markText(k.from,k.to,{className:"CodeMirror-matchingtag"}))),g="close"==h.at?h.open:h.close,g?a.state.tagOther=a.markText(g.from,g.to,{className:"CodeMirror-matchingtag"}):a.state.failedTagMatch=!0)})}function g(a){a.state.failedTagMatch&&n(a)}c.defineOption("matchTags",!1,function(a,b,e){if(e&&e!=c.Init&&(a.off("cursorActivity",
n),a.off("viewportChange",g),l(a)),b)a.state.matchBothTags="object"==typeof b&&b.bothTags,a.on("cursorActivity",n),a.on("viewportChange",g),n(a)});c.commands.toMatchingTag=function(a){var b=c.findMatchingTag(a,a.getCursor()),e;b&&(e="close"==b.at?b.open:b.close,e&&a.extendSelection(e.to,e.from))}});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.defineOption("showTrailingSpace",!1,function(l,n,g){g==c.Init&&(g=!1);g&&!n?l.removeOverlay("trailingspace"):!g&&n&&l.addOverlay({token:function(a){for(var b=a.string.length,e=b;e&&/\s/.test(a.string.charAt(e-1));--e);return e>a.pos?(a.pos=e,null):(a.pos=b,"trailingspace")},name:"trailingspace"})})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function l(b,a,h,k){function l(d){var c=p(b,a),m,h;if(!c||c.to.line-c.from.line<f)return null;m=b.findMarksAt(c.from);for(h=0;h<m.length;++h)if(m[h].__isFold&&"fold"!==k){if(!d)return null;c.cleared=!0;m[h].clear()}return c}var p,f,d,m,r;if(h&&h.call?(p=h,h=null):p=g(b,h,"rangeFinder"),"number"==typeof a&&
(a=c.Pos(a,0)),f=g(b,h,"minFoldSize"),d=l(!0),g(b,h,"scanUp"))for(;!d&&a.line>b.firstLine();)a=c.Pos(a.line-1,0),d=l(!1);d&&!d.cleared&&"unfold"!==k&&(m=n(b,h),c.on(m,"mousedown",function(d){r.clear();c.e_preventDefault(d)}),r=b.markText(d.from,d.to,{replacedWith:m,clearOnEnter:g(b,h,"clearOnEnter"),__isFold:!0}),r.on("clear",function(d,a){c.signal(b,"unfold",b,d,a)}),c.signal(b,"fold",b,d.from,d.to))}function n(b,a){var c=g(b,a,"widget"),k;return"string"==typeof c&&(k=document.createTextNode(c),
c=document.createElement("span"),c.appendChild(k),c.className="CodeMirror-foldmarker"),c}function g(b,c,h){return c&&void 0!==c[h]?c[h]:(b=b.options.foldOptions)&&void 0!==b[h]?b[h]:a[h]}c.newFoldFunction=function(b,a){return function(c,k){l(c,k,{rangeFinder:b,widget:a})}};c.defineExtension("foldCode",function(a,c,h){l(this,a,c,h)});c.defineExtension("isFolded",function(a){a=this.findMarksAt(a);for(var c=0;c<a.length;++c)if(a[c].__isFold)return!0});c.commands.toggleFold=function(a){a.foldCode(a.getCursor())};
c.commands.fold=function(a){a.foldCode(a.getCursor(),null,"fold")};c.commands.unfold=function(a){a.foldCode(a.getCursor(),null,"unfold")};c.commands.foldAll=function(a){a.operation(function(){for(var e=a.firstLine(),h=a.lastLine();e<=h;e++)a.foldCode(c.Pos(e,0),null,"fold")})};c.commands.unfoldAll=function(a){a.operation(function(){for(var e=a.firstLine(),h=a.lastLine();e<=h;e++)a.foldCode(c.Pos(e,0),null,"unfold")})};c.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,
0);return function(c,h){for(var k,g=0;g<a.length;++g)if(k=a[g](c,h),k)return k}});c.registerHelper("fold","auto",function(a,c){for(var h,k=a.getHelpers(c,"fold"),g=0;g<k.length;g++)if(h=k[g](a,c),h)return h});var a={rangeFinder:c.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};c.defineOption("foldOptions",null);c.defineExtension("foldOption",function(a,c){return g(this,a,c)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],c):c(CodeMirror)})(function(c){function l(a){this.options=a;this.from=this.to=0}function n(a,d){for(var b=a.findMarks(p(d,0),p(d+1,0)),c=0;c<b.length;++c)if(b[c].__isFold&&b[c].find().from.line==d)return b[c]}function g(a){if("string"==typeof a){var d=document.createElement("div");return d.className=
a+" CodeMirror-guttermarker-subtle",d}return a.cloneNode(!0)}function a(a,d,b){var c=a.state.foldGutter.options,e=d,k=a.foldOption(c,"minFoldSize"),h=a.foldOption(c,"rangeFinder");a.eachLine(d,b,function(d){var b=null,m,l;n(a,e)?b=g(c.indicatorFolded):(m=p(e,0),l=h&&h(a,m),l&&l.to.line-l.from.line>=k&&(b=g(c.indicatorOpen)));a.setGutterMarker(d,c.gutter,b);++e})}function b(b){var d=b.getViewport(),c=b.state.foldGutter;c&&(b.operation(function(){a(b,d.from,d.to)}),c.from=d.from,c.to=d.to)}function e(a,
d,b){var c=a.state.foldGutter,e,k;c&&(e=c.options,b==e.gutter)&&(k=n(a,d),k?k.clear():a.foldCode(p(d,0),e.rangeFinder))}function h(a){var d=a.state.foldGutter,c;d&&(c=d.options,d.from=d.to=0,clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){b(a)},c.foldOnChangeTimeSpan||600))}function k(c){var d=c.state.foldGutter,m;d&&(m=d.options,clearTimeout(d.changeUpdate),d.changeUpdate=setTimeout(function(){var m=c.getViewport();d.from==d.to||20<m.from-d.to||20<d.from-m.to?b(c):c.operation(function(){m.from<
d.from&&(a(c,m.from,d.from),d.from=m.from);m.to>d.to&&(a(c,d.to,m.to),d.to=m.to)})},m.updateViewportTimeSpan||400))}function q(b,d){var c=b.state.foldGutter,e;c&&(e=d.line,e>=c.from&&e<c.to&&a(b,e,e+1))}c.defineOption("foldGutter",!1,function(a,d,m){if(m&&m!=c.Init&&(a.clearGutter(a.state.foldGutter.options.gutter),a.state.foldGutter=null,a.off("gutterClick",e),a.off("change",h),a.off("viewportChange",k),a.off("fold",q),a.off("unfold",q),a.off("swapDoc",h)),d){m=a.state;var p=d;d=(!0===p&&(p={}),
null==p.gutter&&(p.gutter="CodeMirror-foldgutter"),null==p.indicatorOpen&&(p.indicatorOpen="CodeMirror-foldgutter-open"),null==p.indicatorFolded&&(p.indicatorFolded="CodeMirror-foldgutter-folded"),p);m.foldGutter=new l(d);b(a);a.on("gutterClick",e);a.on("change",h);a.on("viewportChange",k);a.on("fold",q);a.on("unfold",q);a.on("swapDoc",h)}});var p=c.Pos});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerHelper("fold","brace",function(l,n){function g(d){for(var f,m=n.ch,p=0;;)if(f=0>=m?-1:b.lastIndexOf(d,m-1),-1==f){if(1==p)break;p=1;m=b.length}else{if(1==p&&f<n.ch)break;if(e=l.getTokenTypeAt(c.Pos(a,f+1)),!/^(comment|string)/.test(e))return f+1;m=f-1}}var a=n.line,b=l.getLine(a),e,h="{",k="}",
q=g("{"),p,f,d,m,r,t,w,C,y;if(null==q&&(h="[",k="]",q=g("[")),null!=q){p=1;f=l.lastLine();r=a;a:for(;r<=f;++r)for(t=l.getLine(r),w=r==a?q:0;C=t.indexOf(h,w),y=t.indexOf(k,w),0>C&&(C=t.length),0>y&&(y=t.length),w=Math.min(C,y),w!=t.length;){if(l.getTokenTypeAt(c.Pos(r,w+1))==e)if(w==C)++p;else if(!--p){d=r;m=w;break a}++w}if(null!=d&&(a!=d||m!=q))return{from:c.Pos(a,q),to:c.Pos(d,m)}}});c.registerHelper("fold","import",function(l,n){function g(a){var b,e,f,d;if(a<l.firstLine()||a>l.lastLine()||(b=
l.getTokenAt(c.Pos(a,1)),/\S/.test(b.string)||(b=l.getTokenAt(c.Pos(a,b.end+1))),"keyword"!=b.type||"import"!=b.string))return null;e=a;for(a=Math.min(l.lastLine(),a+10);e<=a;++e)if(f=l.getLine(e),d=f.indexOf(";"),-1!=d)return{startCh:b.end,end:c.Pos(e,d)}}var a=n.line,b=g(a),e,h;if(!b||g(a-1)||(e=g(a-2))&&e.end.line==a-1)return null;for(e=b.end;h=g(e.line+1),null!=h;)e=h.end;return{from:l.clipPos(c.Pos(a,b.startCh+1)),to:e}});c.registerHelper("fold","include",function(l,n){function g(a){if(a<l.firstLine()||
a>l.lastLine())return null;var b=l.getTokenAt(c.Pos(a,1));return/\S/.test(b.string)||(b=l.getTokenAt(c.Pos(a,b.end+1))),"meta"==b.type&&"#include"==b.string.slice(0,8)?b.start+8:void 0}var a=n.line,b=g(a),e,h;if(null==b||null!=g(a-1))return null;for(e=a;h=g(e+1),null!=h;)++e;return{from:c.Pos(a,b+1),to:l.clipPos(c.Pos(e))}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerGlobalHelper("fold","comment",function(c){return c.blockCommentStart&&c.blockCommentEnd},function(l,n){var g=l.getModeAt(n),a=g.blockCommentStart,g=g.blockCommentEnd,b,e,h,k,q,p,f,d,m,r,t;if(a&&g){b=n.line;e=l.getLine(b);k=n.ch;for(q=0;;)if(h=0>=k?-1:e.lastIndexOf(a,k-1),-1==h){if(1==q)return;
q=1;k=e.length}else{if(1==q&&h<n.ch)return;if(/comment/.test(l.getTokenTypeAt(c.Pos(b,h+1)))&&(0==h||e.slice(h-g.length,h)==g||!/comment/.test(l.getTokenTypeAt(c.Pos(b,h))))){h+=a.length;break}k=h-1}e=1;k=l.lastLine();q=b;a:for(;q<=k;++q)for(d=l.getLine(q),m=q==b?h:0;r=d.indexOf(a,m),t=d.indexOf(g,m),0>r&&(r=d.length),0>t&&(t=d.length),m=Math.min(r,t),m!=d.length;){if(m==r)++e;else if(!--e){p=q;f=m;break a}++m}if(null!=p&&(b!=p||f!=h))return{from:c.Pos(b,h),to:c.Pos(p,f)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.registerHelper("fold","indent",function(l,n){var g=l.getOption("tabSize"),a=l.getLine(n.line),b,e,h,k;if(/\S/.test(a)){var q=c.countColumn(a,null,g),p=null;b=n.line+1;for(e=l.lastLine();b<=e;++b)if(h=l.getLine(b),k=c.countColumn(h,null,g),k>q)p=b;else if(/\S/.test(h))break;if(p)return{from:c.Pos(n.line,
a.length),to:c.Pos(p,l.getLine(p).length)}}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function l(a,b,c,f){this.line=b;this.ch=c;this.cm=a;this.text=a.getLine(b);this.min=f?Math.max(f.from,a.firstLine()):a.firstLine();this.max=f?Math.min(f.to-1,a.lastLine()):a.lastLine()}function n(a,b){var c=a.cm.getTokenTypeAt(p(a.line,b));return c&&/\btag\b/.test(c)}function g(a){if(!(a.line>=a.max))return a.ch=
0,a.text=a.cm.getLine(++a.line),!0}function a(a){if(!(a.line<=a.min))return a.text=a.cm.getLine(--a.line),a.ch=a.text.length,!0}function b(a){for(var b,c,f;;){if(b=a.text.indexOf("\x3e",a.ch),-1==b)if(g(a))continue;else break;if(n(a,b+1))return c=a.text.lastIndexOf("/",b),f=-1<c&&!/\S/.test(a.text.slice(c+1,b)),a.ch=b+1,f?"selfClose":"regular";a.ch=b+1}}function e(b){for(var c,e;;){if(c=b.ch?b.text.lastIndexOf("\x3c",b.ch-1):-1,-1==c)if(a(b))continue;else break;if(!n(b,c+1))b.ch=c;else if(f.lastIndex=
c,b.ch=c,e=f.exec(b.text),e&&e.index==c)return e}}function h(a){for(;;){f.lastIndex=a.ch;var b=f.exec(a.text);if(!b)if(g(a))continue;else break;if(n(a,b.index+1))return a.ch=b.index+b[0].length,b;a.ch=b.index+1}}function k(a,c){for(var f=[],e;;){var k=h(a),g,l=a.line,n=a.ch-(k?k[0].length:0);if(!k||!(g=b(a)))break;if("selfClose"!=g)if(k[1]){for(e=f.length-1;0<=e;--e)if(f[e]==k[2]){f.length=e;break}if(0>e&&(!c||c==k[2]))return{tag:k[2],from:p(l,n),to:p(a.line,a.ch)}}else f.push(k[2])}}function q(b,
c){for(var f=[],h,k;;){var g;a:{g=b;for(var l=void 0,q=k=void 0;;){if(l=g.ch?g.text.lastIndexOf("\x3e",g.ch-1):-1,-1==l)if(a(g))continue;else{g=void 0;break a}if(n(g,l+1)){g=(k=g.text.lastIndexOf("/",l),q=-1<k&&!/\S/.test(g.text.slice(k+1,l)),g.ch=l+1,q?"selfClose":"regular");break a}else g.ch=l}}if(h=g,!h)break;if("selfClose"==h)e(b);else{q=b.line;g=b.ch;l=e(b);if(!l)break;if(l[1])f.push(l[2]);else{for(k=f.length-1;0<=k;--k)if(f[k]==l[2]){f.length=k;break}if(0>k&&(!c||c==l[2]))return{tag:l[2],from:p(b.line,
b.ch),to:p(q,g)}}}}}var p=c.Pos,f=RegExp("\x3c(/?)([A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");c.registerHelper("fold","xml",function(a,c){for(var f=
new l(a,c.line,0),e,g,n,q;e=h(f),e&&f.line==c.line&&(g=b(f));)if(!e[1]&&"selfClose"!=g)return n=p(f.line,f.ch),q=k(f,e[2]),q&&{from:n,to:q.from}});c.findMatchingTag=function(a,c,f){var g=new l(a,c.line,c.ch,f),h;if(-1!=g.text.indexOf("\x3e")||-1!=g.text.indexOf("\x3c")){var n=b(g),y=n&&p(g.line,g.ch),A=n&&e(g);if(n&&A&&!(0<(g.line-c.line||g.ch-c.ch)))return(h={from:p(g.line,g.ch),to:y,tag:A[2]},"selfClose"==n)?{open:h,close:null,at:"open"}:A[1]?{open:q(g,A[2]),close:h,at:"close"}:(g=new l(a,y.line,
y.ch,f),{open:h,close:k(g,A[2]),at:"open"})}};c.findEnclosingTag=function(a,b,c){for(var f=new l(a,b.line,b.ch,c),e,g,h;e=q(f),e;)if(g=new l(a,b.line,b.ch,c),h=k(g,e.tag),h)return{open:e,close:h}};c.scanForClosingTag=function(a,b,c,f){a=new l(a,b.line,b.ch,f?{from:0,to:f}:null);return k(a,c)}});
(function(){CodeMirror.defineExtension("autoFormatAll",function(c,l){for(var n,g=this,a=g.getMode(),b=g.getRange(c,l).split("\n"),e=CodeMirror.copyState(a,g.getTokenAt(c).state),h=g.getOption("tabSize"),k="",q=0,p=0==c.ch,f=0;f<b.length;++f){for(n=new CodeMirror.StringStream(b[f],h);!n.eol();){var d=CodeMirror.innerMode(a,e),m=a.token(n,e),r=n.current();n.start=n.pos;(!p||/\S/.test(r))&&(k+=r,p=!1);!p&&d.mode.newlineAfterToken&&d.mode.newlineAfterToken(m,r,n.string.slice(n.pos)||b[f+1]||"",d.state)&&
(k+="\n",p=!0,++q)}!n.pos&&a.blankLine&&a.blankLine(e);!p&&f<b.length-1&&(k+="\n",p=!0,++q)}g.operation(function(){g.replaceRange(k,c,l);for(var a=c.line+1,b=c.line+q;a<=b;++a)g.indentLine(a,"smart");g.setCursor({line:0,ch:0})})})})();
(function(){function c(c){for(var n,g,a=[/for\s*?\((.*?)\)/g,/&#?[a-z0-9]+;[\s\S]/g,/\"(.*?)((\")|$)/g,/\/\*(.*?)(\*\/|$)/g,/^\/\/.*/g],b=[],e=0;e<a.length;e++)for(n=0;n<c.length;)if(g=c.substr(n).match(a[e]),null!=g)b.push({start:n+g.index,end:n+g.index+g[0].length}),n+=g.index+Math.max(1,g[0].length);else break;return b.sort(function(a,b){return a.start-b.start}),b}CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(c,n){return/^[;{}]$/.test(n)}});CodeMirror.extendMode("javascript",
{commentStart:"/*",commentEnd:"*/",wordWrapChars:[";","\\{","\\}"],autoFormatLineBreaks:function(l){var n=0,g=this.jsonMode?function(a){return a.replace(/([,{])/g,"$1\n").replace(/}/g,"\n}")}:function(a){return a.replace(/(;|\{|\})([^\r\n;])/g,"$1\n$2")},a=c(l),b="",e;if(null!=a){for(e=0;e<a.length;e++)a[e].start>n&&(b+=g(l.substring(n,a[e].start)),n=a[e].start),a[e].start<=n&&a[e].end>=n&&(b+=l.substring(n,a[e].end),n=a[e].end);n<l.length&&(b+=g(l.substr(n)))}else b=g(l);return b.replace(/^\n*|\n*$/,
"")}});CodeMirror.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",noBreak:!1,noBreakEmpty:null,tagType:"",tagName:"",isXML:!1,newlineAfterToken:function(c,n,g){var a=!1,b=null,e="",h;if(this.isXML="xml"==this.configuration?!0:!1,"comment"==c||/\x3c!--/.test(g))return!1;if("tag"==c){if(0==n.indexOf("\x3c")&&0==!n.indexOf("\x3c/")&&(this.tagType="open",b=n.match(/^<\s*?([\w]+?)$/i),this.tagName=null!=b?b[1]:"",e=this.tagName.toLowerCase(),-1!="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+
e+"|")&&(this.noBreak=!0)),0==n.indexOf("\x3e")&&"open"==this.tagType)return(this.tagType="",h=this.isXML?"[^\x3c]*?":"",RegExp("^"+h+"\x3c/s*?"+this.tagName+"s*?\x3e","i").test(g))?(this.noBreak=!1,this.isXML||(this.tagName=""),!1):(a=this.noBreak,this.noBreak=!1,a?!1:!0);if(0==n.indexOf("\x3c/")&&(this.tagType="close",b=n.match(/^<\/\s*?([\w]+?)$/i),null!=b&&(e=b[1].toLowerCase()),-1!="|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+e+"|")&&
(this.noBreak=!0)),0==n.indexOf("\x3e")&&"close"==this.tagType)return(this.tagType="",0==g.indexOf("\x3c")&&(b=g.match(/^<\/?\s*?([\w]+?)(\s|>)/i),e=null!=b?b[1].toLowerCase():"",-1=="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+e+"|")))?(this.noBreak=!1,!0):(a=this.noBreak,this.noBreak=!1,a?!1:!0)}return 0==g.indexOf("\x3c")?(this.noBreak=!1,this.isXML&&""!=this.tagName)?(this.tagName="",!1):(b=g.match(/^<\/?\s*?([\w]+?)(\s|>)/i),
e=null!=b?b[1].toLowerCase():"",-1!="|label|li|option|textarea|title|a|b|bdi|bdo|big|center|cite|del|em|font|i|img|ins|s|small|span|strike|strong|sub|sup|u|".indexOf("|"+e+"|")?!1:!0):!1}});CodeMirror.defineExtension("commentRange",function(c,n,g){var a=this,b=CodeMirror.innerMode(a.getMode(),a.getTokenAt(n).state).mode;a.operation(function(){if(c)a.replaceRange(b.commentEnd,g),a.replaceRange(b.commentStart,n),n.line==g.line&&n.ch==g.ch&&a.setCursor(n.line,n.ch+b.commentStart.length);else{var e=a.getRange(n,
g),h=e.indexOf(b.commentStart),k=e.lastIndexOf(b.commentEnd);-1<h&&-1<k&&k>h&&(e=e.substr(0,h)+e.substring(h+b.commentStart.length,k)+e.substr(k+b.commentEnd.length));a.replaceRange(e,n,g)}})});CodeMirror.defineExtension("autoIndentRange",function(c,n){var g=this;this.operation(function(){for(var a=c.line;a<=n.line;a++)g.indentLine(a,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(c,n){for(var g,a=this,b=a.getMode(),e=a.getRange(c,n).split("\n"),h=CodeMirror.copyState(b,a.getTokenAt(c).state),
k=a.getOption("tabSize"),q="",p=0,f=0==c.ch,d=0;d<e.length;++d){for(g=new CodeMirror.StringStream(e[d],k);!g.eol();){var m=CodeMirror.innerMode(b,h),r=b.token(g,h),t=g.current();g.start=g.pos;(!f||/\S/.test(t))&&(q+=t,f=!1);!f&&m.mode.newlineAfterToken&&m.mode.newlineAfterToken(r,t,g.string.slice(g.pos)||e[d+1]||"",m.state)&&(q+="\n",f=!0,++p)}!g.pos&&b.blankLine&&b.blankLine(h);!f&&d<e.length-1&&(q+="\n",f=!0,++p)}a.operation(function(){a.replaceRange(q,c,n);for(var b=c.line+1,f=c.line+p;b<=f;++b)a.indentLine(b,
"smart");a.setSelection(c,a.getCursor(!1))})})})();
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function l(a){for(var c=0;c<a.state.activeLines.length;c++)a.removeLineClass(a.state.activeLines[c],"wrap",b),a.removeLineClass(a.state.activeLines[c],"background",e),a.removeLineClass(a.state.activeLines[c],"gutter",h)}function n(a,b){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=
b[c])return!1;return!0}function g(a,c){for(var g,f,d=[],m=0;m<c.length;m++)(g=c[m],g.empty())&&(f=a.getLineHandleVisualStart(g.head.line),d[d.length-1]!=f&&d.push(f));n(a.state.activeLines,d)||a.operation(function(){l(a);for(var c=0;c<d.length;c++)a.addLineClass(d[c],"wrap",b),a.addLineClass(d[c],"background",e),a.addLineClass(d[c],"gutter",h);a.state.activeLines=d})}function a(a,b){g(a,b.ranges)}var b="CodeMirror-activeline",e="CodeMirror-activeline-background",h="CodeMirror-activeline-gutter";c.defineOption("styleActiveLine",
!1,function(b,e,h){h=h&&h!=c.Init;e&&!h?(b.state.activeLines=[],g(b,b.listSelections()),b.on("beforeSelectionChange",a)):!e&&h&&(b.off("beforeSelectionChange",a),l(b),delete b.state.activeLines)})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror"),require("./matchesonscrollbar")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./matchesonscrollbar"],c):c(CodeMirror)})(function(c){function l(a){this.options={};for(var b in q)this.options[b]=(a&&a.hasOwnProperty(b)?a:q)[b];this.matchesonscroll=this.overlay=this.timeout=null;this.active=!1}function n(b){var c=b.state.matchHighlighter;(c.active||b.hasFocus())&&a(b,c)}function g(b){var c=
b.state.matchHighlighter;c.active||(c.active=!0,a(b,c))}function a(a,b){clearTimeout(b.timeout);b.timeout=setTimeout(function(){h(a)},b.options.delay)}function b(a,b,c,e){var g=a.state.matchHighlighter,h;a.addOverlay(g.overlay=k(b,c,e));g.options.annotateScrollbar&&a.showMatchesOnScrollbar&&(h=c?new RegExp("\\b"+b+"\\b"):b,g.matchesonscroll=a.showMatchesOnScrollbar(h,!1,{className:"CodeMirror-selection-highlight-scrollbar"}))}function e(a){var b=a.state.matchHighlighter;b.overlay&&(a.removeOverlay(b.overlay),
b.overlay=null,b.matchesonscroll&&(b.matchesonscroll.clear(),b.matchesonscroll=null))}function h(a){a.operation(function(){var c=a.state.matchHighlighter,d,g,h;if(e(a),!a.somethingSelected()&&c.options.showToken){d=!0===c.options.showToken?/[\w$]/:c.options.showToken;h=a.getCursor();g=a.getLine(h.line);for(var k=h=h.ch;h&&d.test(g.charAt(h-1));)--h;for(;k<g.length&&d.test(g.charAt(k));)++k;h<k&&b(a,g.slice(h,k),d,c.options.style)}else{var l;if((l=(d=a.getCursor("from"),g=a.getCursor("to"),d.line==
g.line))&&!(l=!c.options.wordsOnly)){var n;l=null!==a.getRange(d,g).match(/^\w+$/)?0<d.ch&&(k={line:d.line,ch:d.ch-1},n=a.getRange(k,d),null===n.match(/\W/))?!1:g.ch<a.getLine(d.line).length&&(k={line:g.line,ch:g.ch+1},n=a.getRange(g,k),null===n.match(/\W/))?!1:!0:!1}l&&(h=a.getRange(d,g),c.options.trim&&(h=h.replace(/^\s+|\s+$/g,"")),h.length>=c.options.minChars&&b(a,h,!1,c.options.style))}})}function k(a,b,c){return{token:function(e){var g;if(g=e.match(a))(g=!b)||(g=(!e.start||!b.test(e.string.charAt(e.start-
1)))&&(e.pos==e.string.length||!b.test(e.string.charAt(e.pos))));if(g)return c;e.next();e.skipTo(a.charAt(0))||e.skipToEnd()}}}var q={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};c.defineOption("highlightSelectionMatches",!1,function(a,b,d){if(d&&d!=c.Init&&(e(a),clearTimeout(a.state.matchHighlighter.timeout),a.state.matchHighlighter=null,a.off("cursorActivity",n),a.off("focus",g)),b){b=a.state.matchHighlighter=new l(b);if(a.hasFocus())b.active=
!0,h(a);else a.on("focus",g);a.on("cursorActivity",n)}})});
(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){c.multiplexingMode=function(l){function n(a,b,c,g){var k,l;return"string"==typeof b?(k=a.indexOf(b,c),g&&-1<k?k+b.length:k):(l=b.exec(c?a.slice(c):a),l?l.index+c+(g?l[0].length:0):-1)}var g=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:c.startState(l),innerActive:null,
inner:null}},copyState:function(a){return{outer:c.copyState(l,a.outer),innerActive:a.innerActive,inner:a.innerActive&&c.copyState(a.innerActive.mode,a.inner)}},token:function(a,b){var e,h,k,q,p,f;if(b.innerActive)return(e=b.innerActive,p=a.string,!e.close&&a.sol())?(b.innerActive=b.inner=null,this.token(a,b)):(f=e.close?n(p,e.close,a.pos,e.parseDelimiters):-1,f!=a.pos||e.parseDelimiters)?(-1<f&&(a.string=p.slice(0,f)),h=e.mode.token(a,b.inner),-1<f&&(a.string=p),f==a.pos&&e.parseDelimiters&&(b.innerActive=
b.inner=null),e.innerStyle&&(h=h?h+" "+e.innerStyle:e.innerStyle),h):(a.match(e.close),b.innerActive=b.inner=null,e.delimStyle&&e.delimStyle+" "+e.delimStyle+"-close");e=Infinity;p=a.string;for(h=0;h<g.length;++h){if(k=g[h],f=n(p,k.open,a.pos),f==a.pos)return k.parseDelimiters||a.match(k.open),b.innerActive=k,b.inner=c.startState(k.mode,l.indent?l.indent(b.outer,""):0),k.delimStyle&&k.delimStyle+" "+k.delimStyle+"-open";-1!=f&&f<e&&(e=f)}return Infinity!=e&&(a.string=p.slice(0,e)),q=l.token(a,b.outer),
Infinity!=e&&(a.string=p),q},indent:function(a,b){var e=a.innerActive?a.innerActive.mode:l;return e.indent?e.indent(a.innerActive?a.inner:a.outer,b):c.Pass},blankLine:function(a){var b=a.innerActive?a.innerActive.mode:l,e,h;if(b.blankLine&&b.blankLine(a.innerActive?a.inner:a.outer),a.innerActive)"\n"===a.innerActive.close&&(a.innerActive=a.inner=null);else for(e=0;e<g.length;++e)h=g[e],"\n"===h.open&&(a.innerActive=h,a.inner=c.startState(h.mode,b.indent?b.indent(a.outer,""):0))},electricChars:l.electricChars,
innerMode:function(a){return a.inner?{state:a.inner,mode:a.innerActive.mode}:{state:a.outer,mode:l}}}}});