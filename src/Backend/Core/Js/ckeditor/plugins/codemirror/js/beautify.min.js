(function(){function n(a,g){for(var h=0;h<g.length;h+=1)if(g[h]===a)return!0;return!1}function F(a,g){return(new O(a,g)).beautify()}function O(r,g){function B(b,d){var e=0;return b&&(e=b.indentation_level,!k.just_added_newline()&&b.line_indent_level>e&&(e=b.line_indent_level)),{mode:d,parent:b,last_text:b?b.last_text:"",last_word:b?b.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,
case_body:!1,indentation_level:e,line_indent_level:b?b.line_indent_level:e,start_line_index:k.get_line_number(),ternary_depth:0}}function y(e){var c=e.newlines,q;if(l.keep_array_indentation&&d.mode===a.ArrayLiteral)for(q=0;q<c;q+=1)p(0<q);else if(l.max_preserve_newlines&&c>l.max_preserve_newlines&&(c=l.max_preserve_newlines),l.preserve_newlines&&1<e.newlines)for(p(),q=1;q<c;q+=1)p(!0);b=e;M[b.type]()}function D(d){(d=void 0===d?!1:d,k.just_added_newline())||(l.preserve_newlines&&b.wanted_newline||
d?p(!1,!0):l.wrap_line_length&&k.current_line.get_character_count()+b.text.length+(k.space_before_token?1:0)>=l.wrap_line_length&&p(!1,!0))}function p(b,c){if(!c&&";"!==d.last_text&&","!==d.last_text&&"\x3d"!==d.last_text&&"TK_OPERATOR"!==e)for(;d.mode===a.Statement&&!d.if_block&&!d.do_block;)E();k.add_new_line(b)&&(d.multiline_frame=!0)}function A(){k.just_added_newline()&&(l.keep_array_indentation&&d.mode===a.ArrayLiteral&&b.wanted_newline?(k.current_line.push(b.whitespace_before),k.space_before_token=
!1):k.set_indent(d.indentation_level)&&(d.line_indent_level=d.indentation_level))}function t(d){k.raw?k.add_raw_token(b):(l.comma_first&&"TK_COMMA"===e&&k.just_added_newline()&&","===k.previous_line.last()&&(k.previous_line.pop(),A(),k.add_token(","),k.space_before_token=!0),d=d||b.text,A(),k.add_token(d))}function G(b){d?(v.push(d),m=d):m=B(null,b);d=B(m,b)}function J(b){return n(b,[a.Expression,a.ForInitializer,a.Conditional])}function E(){0<v.length&&(m=d,d=v.pop(),m.mode===a.Statement&&k.remove_redundant_indentation(m))}
function K(){return d.parent.mode===a.ObjectLiteral&&d.mode===a.Statement&&(":"===d.last_text&&0===d.ternary_depth||"TK_RESERVED"===e&&n(d.last_text,["get","set"]))}function C(){var c;"TK_RESERVED"===e&&n(d.last_text,["var","let","const"])&&"TK_WORD"===b.type||"TK_RESERVED"===e&&"do"===d.last_text||"TK_RESERVED"===e&&"return"===d.last_text&&!b.wanted_newline||"TK_RESERVED"===e&&"else"===d.last_text&&("TK_RESERVED"!==b.type||"if"!==b.text)||"TK_END_EXPR"===e&&(m.mode===a.ForInitializer||m.mode===a.Conditional)||
"TK_WORD"===e&&d.mode===a.BlockStatement&&!d.in_case&&"--"!==b.text&&"++"!==b.text&&"function"!==u&&"TK_WORD"!==b.type&&"TK_RESERVED"!==b.type||d.mode===a.ObjectLiteral&&(":"===d.last_text&&0===d.ternary_depth||"TK_RESERVED"===e&&n(d.last_text,["get","set"]))?(G(a.Statement),d.indentation_level+=1,c=("TK_RESERVED"===e&&n(d.last_text,["var","let","const"])&&"TK_WORD"===b.type&&(d.declaration_statement=!0),K()||D("TK_RESERVED"===b.type&&n(b.text,["do","for","if","while"])),!0)):c=!1;return c}function L(b){return n(b,
"case return do if throw else".split(" "))}function H(b){b=c+(b||0);return 0>b||b>=z.length?null:z[b]}function I(){var c,f;if("TK_RESERVED"===b.type&&d.mode!==a.ObjectLiteral&&n(b.text,["set","get"])&&(b.type="TK_WORD"),"TK_RESERVED"===b.type&&d.mode===a.ObjectLiteral&&(c=H(1),":"==c.text&&(b.type="TK_WORD")),C()||!b.wanted_newline||J(d.mode)||"TK_OPERATOR"===e&&"--"!==d.last_text&&"++"!==d.last_text||"TK_EQUALS"===e||!l.preserve_newlines&&"TK_RESERVED"===e&&n(d.last_text,["var","let","const","set",
"get"])||p(),d.do_block&&!d.do_while){if("TK_RESERVED"===b.type&&"while"===b.text){k.space_before_token=!0;t();k.space_before_token=!0;d.do_while=!0;return}p();d.do_block=!1}if(d.if_block)if(d.else_block||"TK_RESERVED"!==b.type||"else"!==b.text){for(;d.mode===a.Statement;)E();d.if_block=!1;d.else_block=!1}else d.else_block=!0;if("TK_RESERVED"===b.type&&("case"===b.text||"default"===b.text&&d.in_case_statement)){p();if(d.case_body||l.jslint_happy)0<d.indentation_level&&(!d.parent||d.indentation_level>
d.parent.indentation_level)&&--d.indentation_level,d.case_body=!1;t();d.in_case=!0;d.in_case_statement=!0}else("TK_RESERVED"===b.type&&"function"===b.text&&((n(d.last_text,["}",";"])||k.just_added_newline()&&!n(d.last_text,["[","{",":","\x3d",","]))&&(k.just_added_blankline()||b.comments_before.length||(p(),p(!0))),"TK_RESERVED"===e||"TK_WORD"===e?"TK_RESERVED"===e&&n(d.last_text,"get set new return export async".split(" "))?k.space_before_token=!0:"TK_RESERVED"===e&&"default"===d.last_text&&"export"===
u?k.space_before_token=!0:p():"TK_OPERATOR"===e||"\x3d"===d.last_text?k.space_before_token=!0:!d.multiline_frame&&(J(d.mode)||d.mode===a.ArrayLiteral)||p()),("TK_COMMA"===e||"TK_START_EXPR"===e||"TK_EQUALS"===e||"TK_OPERATOR"===e)&&(K()||D()),"TK_RESERVED"===b.type&&n(b.text,["function","get","set"]))?(t(),d.last_word=b.text):(x="NONE","TK_END_BLOCK"===e?"TK_RESERVED"===b.type&&n(b.text,["else","catch","finally"])?"expand"===l.brace_style||"end-expand"===l.brace_style||"none"===l.brace_style&&b.wanted_newline?
x="NEWLINE":(x="SPACE",k.space_before_token=!0):x="NEWLINE":"TK_SEMICOLON"===e&&d.mode===a.BlockStatement?x="NEWLINE":"TK_SEMICOLON"===e&&J(d.mode)?x="SPACE":"TK_STRING"===e?x="NEWLINE":"TK_RESERVED"===e||"TK_WORD"===e||"*"===d.last_text&&"function"===u?x="SPACE":"TK_START_BLOCK"===e?x="NEWLINE":"TK_END_EXPR"===e&&(k.space_before_token=!0,x="NEWLINE"),"TK_RESERVED"===b.type&&n(b.text,q.line_starters)&&")"!==d.last_text&&(x="else"===d.last_text||"export"===d.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===
b.type&&n(b.text,["else","catch","finally"])?"TK_END_BLOCK"!==e||"expand"===l.brace_style||"end-expand"===l.brace_style||"none"===l.brace_style&&b.wanted_newline?p():(k.trim(!0),f=k.current_line,"}"!==f.last()&&p(),k.space_before_token=!0):"NEWLINE"===x?"TK_RESERVED"===e&&L(d.last_text)?k.space_before_token=!0:"TK_END_EXPR"!==e?"TK_START_EXPR"===e&&"TK_RESERVED"===b.type&&n(b.text,["var","let","const"])||":"===d.last_text||("TK_RESERVED"===b.type&&"if"===b.text&&"else"===d.last_text?k.space_before_token=
!0:p()):"TK_RESERVED"===b.type&&n(b.text,q.line_starters)&&")"!==d.last_text&&p():d.multiline_frame&&d.mode===a.ArrayLiteral&&","===d.last_text&&"}"===u?p():"SPACE"===x&&(k.space_before_token=!0),t(),d.last_word=b.text,"TK_RESERVED"===b.type&&"do"===b.text&&(d.do_block=!0),"TK_RESERVED"===b.type&&"if"===b.text&&(d.if_block=!0))}var k,z=[],c,q,b,e,u,f,d,m,v,x,M,l,P="",N;M={TK_START_EXPR:function(){C();var c=a.Expression;if("["===b.text){if("TK_WORD"===e||")"===d.last_text){"TK_RESERVED"===e&&n(d.last_text,
q.line_starters)&&(k.space_before_token=!0);G(c);t();d.indentation_level+=1;l.space_in_paren&&(k.space_before_token=!0);return}c=a.ArrayLiteral;d.mode!==a.ArrayLiteral||"["!==d.last_text&&(","!==d.last_text||"]"!==u&&"}"!==u)||!l.keep_array_indentation&&p()}else"TK_RESERVED"===e&&"for"===d.last_text?c=a.ForInitializer:"TK_RESERVED"===e&&n(d.last_text,["if","while"])&&(c=a.Conditional);";"===d.last_text||"TK_START_BLOCK"===e?p():"TK_END_EXPR"===e||"TK_START_EXPR"===e||"TK_END_BLOCK"===e||"."===d.last_text?
D(b.wanted_newline):"TK_RESERVED"===e&&"("===b.text||"TK_WORD"===e||"TK_OPERATOR"===e?"TK_RESERVED"===e&&("function"===d.last_word||"typeof"===d.last_word)||"*"===d.last_text&&"function"===u?l.space_after_anon_function&&(k.space_before_token=!0):"TK_RESERVED"===e&&(n(d.last_text,q.line_starters)||"catch"===d.last_text)&&l.space_before_conditional&&(k.space_before_token=!0):k.space_before_token=!0;"("===b.text&&"TK_RESERVED"===e&&"await"===d.last_word&&(k.space_before_token=!0);"("!==b.text||"TK_EQUALS"!==
e&&"TK_OPERATOR"!==e||!K()&&D();G(c);t();l.space_in_paren&&(k.space_before_token=!0);d.indentation_level+=1},TK_END_EXPR:function(){for(;d.mode===a.Statement;)E();d.multiline_frame&&D("]"===b.text&&d.mode===a.ArrayLiteral&&!l.keep_array_indentation);l.space_in_paren&&("TK_START_EXPR"!==e||l.space_in_empty_paren?k.space_before_token=!0:(k.trim(),k.space_before_token=!1));"]"===b.text&&l.keep_array_indentation?(t(),E()):(E(),t());k.remove_redundant_indentation(m);d.do_while&&m.mode===a.Conditional&&
(m.mode=a.Expression,d.do_block=!1,d.do_while=!1)},TK_START_BLOCK:function(){var c=H(1),q=H(2);q&&(":"===q.text&&n(c.type,["TK_STRING","TK_WORD","TK_RESERVED"])||n(c.text,["get","set"])&&n(q.type,["TK_WORD","TK_RESERVED"]))?n(u,["class","interface"])?G(a.BlockStatement):G(a.ObjectLiteral):G(a.BlockStatement);c=!c.comments_before.length&&"}"===c.text&&"function"===d.last_word&&"TK_END_EXPR"===e;"expand"===l.brace_style||"none"===l.brace_style&&b.wanted_newline?"TK_OPERATOR"!==e&&(c||"TK_EQUALS"===
e||"TK_RESERVED"===e&&L(d.last_text)&&"else"!==d.last_text)?k.space_before_token=!0:p(!1,!0):"TK_OPERATOR"!==e&&"TK_START_EXPR"!==e?"TK_START_BLOCK"===e?p():k.space_before_token=!0:m.mode===a.ArrayLiteral&&","===d.last_text&&("}"===u?k.space_before_token=!0:p());t();d.indentation_level+=1},TK_END_BLOCK:function(){for(;d.mode===a.Statement;)E();var b="TK_START_BLOCK"===e;"expand"===l.brace_style?b||p():b||(d.mode===a.ArrayLiteral&&l.keep_array_indentation?(l.keep_array_indentation=!1,p(),l.keep_array_indentation=
!0):p());E();t()},TK_WORD:I,TK_RESERVED:I,TK_SEMICOLON:function(){for(C()&&(k.space_before_token=!1);d.mode===a.Statement&&!d.if_block&&!d.do_block;)E();t()},TK_STRING:function(){C()?k.space_before_token=!0:"TK_RESERVED"===e||"TK_WORD"===e?k.space_before_token=!0:"TK_COMMA"===e||"TK_START_EXPR"===e||"TK_EQUALS"===e||"TK_OPERATOR"===e?K()||D():p();t()},TK_EQUALS:function(){C();d.declaration_statement&&(d.declaration_assignment=!0);k.space_before_token=!0;t();k.space_before_token=!0},TK_OPERATOR:function(){if(C(),
"TK_RESERVED"===e&&L(d.last_text))k.space_before_token=!0,t();else if("*"===b.text&&"TK_DOT"===e)t();else if(":"===b.text&&d.in_case)d.case_body=!0,d.indentation_level+=1,t(),p(),d.in_case=!1;else if("::"===b.text)t();else{"TK_OPERATOR"===e&&D();var c=!0,f=!0;n(b.text,["--","++","!","~"])||n(b.text,["-","+"])&&(n(e,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||n(d.last_text,q.line_starters)||","===d.last_text)?(c=!1,f=!1,b.wanted_newline&&("--"===b.text||"++"===b.text)&&p(!1,!0),
";"===d.last_text&&J(d.mode)&&(c=!0),"TK_RESERVED"===e?c=!0:"TK_END_EXPR"===e?c=!("]"===d.last_text&&("--"===b.text||"++"===b.text)):"TK_OPERATOR"===e&&(c=n(b.text,["--","-","++","+"])&&n(d.last_text,["--","-","++","+"]),n(b.text,["+","-"])&&n(d.last_text,["--","++"])&&(f=!0)),!(d.mode!==a.BlockStatement&&d.mode!==a.Statement||"{"!==d.last_text&&";"!==d.last_text)&&p()):":"===b.text?0===d.ternary_depth?c=!1:--d.ternary_depth:"?"===b.text?d.ternary_depth+=1:"*"===b.text&&"TK_RESERVED"===e&&"function"===
d.last_text&&(c=!1,f=!1);k.space_before_token=k.space_before_token||c;t();k.space_before_token=f}},TK_COMMA:function(){d.declaration_statement?(J(d.parent.mode)&&(d.declaration_assignment=!1),t(),d.declaration_assignment?(d.declaration_assignment=!1,p(!1,!0)):(k.space_before_token=!0,l.comma_first&&D())):(t(),d.mode===a.ObjectLiteral||d.mode===a.Statement&&d.parent.mode===a.ObjectLiteral?(d.mode===a.Statement&&E(),p()):(k.space_before_token=!0,l.comma_first&&D()))},TK_BLOCK_COMMENT:function(){if(k.raw)k.add_raw_token(b),
b.directives&&"end"===b.directives.preserve&&(l.test_output_raw||(k.raw=!1));else if(b.directives)p(!1,!0),t(),"start"===b.directives.preserve&&(k.raw=!0),p(!1,!0);else if(w.newline.test(b.text)||b.wanted_newline){var d;d=b.text;d=d.replace(/\x0d/g,"");for(var e=[],c=d.indexOf("\n");-1!==c;)e.push(d.substring(0,c)),d=d.substring(c+1),c=d.indexOf("\n");d=(d.length&&e.push(d),e);var q,c=e=!1,a=b.whitespace_before,f=a.length;p(!1,!0);if(1<d.length){var r;a:{for(var m=d.slice(1),g=0;g<m.length;g++)if(r=
m[g].replace(/^\s+|\s+$/g,""),"*"!==r.charAt(0)){r=!1;break a}r=!0}if(r)e=!0;else{a:{r=d.slice(1);m=0;for(g=r.length;m<g;m++)if(q=r[m],q&&0!==q.indexOf(a)){q=!1;break a}q=!0}q&&(c=!0)}}t(d[0]);for(q=1;q<d.length;q++)p(!1,!0),e?t(" "+d[q].replace(/^\s+/g,"")):c&&d[q].length>f?t(d[q].substring(f)):k.add_token(d[q]);p(!1,!0)}else k.space_before_token=!0,t(),k.space_before_token=!0},TK_COMMENT:function(){b.wanted_newline?p(!1,!0):k.trim(!0);k.space_before_token=!0;t();p(!1,!0)},TK_DOT:function(){C();
"TK_RESERVED"===e&&L(d.last_text)?k.space_before_token=!0:D(")"===d.last_text&&l.break_chained_methods);t()},TK_UNKNOWN:function(){t();"\n"===b.text[b.text.length-1]&&p()},TK_EOF:function(){for(;d.mode===a.Statement;)E()}};g=g?g:{};l={};void 0!==g.braces_on_own_line&&(l.brace_style=g.braces_on_own_line?"expand":"collapse");l.brace_style=g.brace_style?g.brace_style:l.brace_style?l.brace_style:"collapse";"expand-strict"===l.brace_style&&(l.brace_style="expand");l.indent_size=g.indent_size?parseInt(g.indent_size,
10):4;l.indent_char=g.indent_char?g.indent_char:" ";l.eol=g.eol?g.eol:"\n";l.preserve_newlines=void 0===g.preserve_newlines?!0:g.preserve_newlines;l.break_chained_methods=void 0===g.break_chained_methods?!1:g.break_chained_methods;l.max_preserve_newlines=void 0===g.max_preserve_newlines?0:parseInt(g.max_preserve_newlines,10);l.space_in_paren=void 0===g.space_in_paren?!1:g.space_in_paren;l.space_in_empty_paren=void 0===g.space_in_empty_paren?!1:g.space_in_empty_paren;l.jslint_happy=void 0===g.jslint_happy?
!1:g.jslint_happy;l.space_after_anon_function=void 0===g.space_after_anon_function?!1:g.space_after_anon_function;l.keep_array_indentation=void 0===g.keep_array_indentation?!1:g.keep_array_indentation;l.space_before_conditional=void 0===g.space_before_conditional?!0:g.space_before_conditional;l.unescape_strings=void 0===g.unescape_strings?!1:g.unescape_strings;l.wrap_line_length=void 0===g.wrap_line_length?0:parseInt(g.wrap_line_length,10);l.e4x=void 0===g.e4x?!1:g.e4x;l.end_with_newline=void 0===
g.end_with_newline?!1:g.end_with_newline;l.comma_first=void 0===g.comma_first?!1:g.comma_first;l.test_output_raw=void 0===g.test_output_raw?!1:g.test_output_raw;l.jslint_happy&&(l.space_after_anon_function=!0);g.indent_with_tabs&&(l.indent_char="\t",l.indent_size=1);l.eol=l.eol.replace(/\\r/,"\r").replace(/\\n/,"\n");for(f="";0<l.indent_size;)f+=l.indent_char,--l.indent_size;if(N=0,r&&r.length){for(;" "===r.charAt(N)||"\t"===r.charAt(N);)P+=r.charAt(N),N+=1;r=r.substring(N)}e="TK_START_BLOCK";u="";
k=new h(f,P);k.raw=l.test_output_raw;v=[];G(a.BlockStatement);this.beautify=function(){var b,a,m;q=new Q(r,l,f);z=q.tokenize();for(c=0;b=H();){for(m=0;m<b.comments_before.length;m++)y(b.comments_before[m]);y(b);u=d.last_text;e=b.type;d.last_text=b.text;c+=1}return a=k.get_code(),l.end_with_newline&&(a+="\n"),"\n"!=l.eol&&(a=a.replace(/[\n]/g,l.eol)),a}}function A(a){var g=0,h=-1,y=[],n=!0;this.set_indent=function(y){g=a.baseIndentLength+y*a.indent_length;h=y};this.get_character_count=function(){return g};
this.is_empty=function(){return n};this.last=function(){return this._empty?null:y[y.length-1]};this.push=function(a){y.push(a);g+=a.length;n=!1};this.pop=function(){var a=null;return n||(a=y.pop(),g-=a.length,n=0===y.length),a};this.remove_indent=function(){0<h&&(--h,g-=a.indent_length)};this.trim=function(){for(;" "===this.last();)y.pop(),--g;n=0===y.length};this.toString=function(){var g="";return this._empty||(0<=h&&(g=a.indent_cache[h]),g+=y.join("")),g}}function h(r,g){g=g||"";this.indent_cache=
[g];this.baseIndentLength=g.length;this.indent_length=r.length;this.raw=!1;var h=[];this.baseIndentString=g;this.indent_string=r;this.current_line=this.previous_line=null;this.space_before_token=!1;this.add_outputline=function(){this.previous_line=this.current_line;this.current_line=new A(this);h.push(this.current_line)};this.add_outputline();this.get_line_number=function(){return h.length};this.add_new_line=function(a){return 1===this.get_line_number()&&this.just_added_newline()?!1:a||!this.just_added_newline()?
(this.raw||this.add_outputline(),!0):!1};this.get_code=function(){return h.join("\n").replace(/[\r\n\t ]+$/,"")};this.set_indent=function(a){if(1<h.length){for(;a>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);return this.current_line.set_indent(a),!0}return this.current_line.set_indent(0),!1};this.add_raw_token=function(a){for(var r=0;r<a.newlines;r++)this.add_outputline();this.current_line.push(a.whitespace_before);this.current_line.push(a.text);
this.space_before_token=!1};this.add_token=function(a){this.add_space_before_token();this.current_line.push(a)};this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&this.current_line.push(" ");this.space_before_token=!1};this.remove_redundant_indentation=function(r){if(!r.multiline_frame&&r.mode!==a.ForInitializer&&r.mode!==a.Conditional){r=r.start_line_index;for(var g=h.length;r<g;)h[r].remove_indent(),r++}};this.trim=function(a){a=void 0===a?!1:a;for(this.current_line.trim(r,
g);a&&1<h.length&&this.current_line.is_empty();)h.pop(),this.current_line=h[h.length-1],this.current_line.trim();this.previous_line=1<h.length?h[h.length-2]:null};this.just_added_newline=function(){return this.current_line.is_empty()};this.just_added_blankline=function(){return this.just_added_newline()?1===h.length?!0:h[h.length-2].is_empty():!1}}function Q(a,g){function h(){var b,e=[],u,f,d,m,v;if(H=0,I="",c>=q)return["","TK_EOF"];u=z.length?z[z.length-1]:new M("TK_START_BLOCK","{");f=a.charAt(c);
for(c+=1;n(f,y);){if(w.newline.test(f)?"\n"===f&&"\r"===a.charAt(c-2)||(H+=1,e=[]):e.push(f),c>=q)return["","TK_EOF"];f=a.charAt(c);c+=1}if(e.length&&(I=e.join("")),A.test(f)){d=v=!0;m=A;for("0"===f&&c<q&&/[Xx]/.test(a.charAt(c))?(v=!1,d=!1,f+=a.charAt(c),c+=1,m=p):(f="",--c);c<q&&m.test(a.charAt(c));)f+=a.charAt(c),c+=1,v&&c<q&&"."===a.charAt(c)&&(f+=a.charAt(c),c+=1,v=!1),d&&c<q&&/[Ee]/.test(a.charAt(c))&&(f+=a.charAt(c),c+=1,c<q&&/[+-]/.test(a.charAt(c))&&(f+=a.charAt(c),c+=1),d=!1,v=!1);return[f,
"TK_WORD"]}if(w.isIdentifierStart(a.charCodeAt(c-1))){if(c<q)for(;w.isIdentifierChar(a.charCodeAt(c))&&(f+=a.charAt(c),c+=1,c!==q););return"TK_DOT"===u.type||"TK_RESERVED"===u.type&&n(u.text,["set","get"])||!n(f,t)?[f,"TK_WORD"]:"in"===f?[f,"TK_OPERATOR"]:[f,"TK_RESERVED"]}if("("===f||"["===f)return[f,"TK_START_EXPR"];if(")"===f||"]"===f)return[f,"TK_END_EXPR"];if("{"===f)return[f,"TK_START_BLOCK"];if("}"===f)return[f,"TK_END_BLOCK"];if(";"===f)return[f,"TK_SEMICOLON"];if("/"===f){if(e="","*"===a.charAt(c)){c+=
1;G.lastIndex=c;m=G.exec(a);e="/*"+m[0];c+=m[0].length;v=e;if(v.match(E)){f={};K.lastIndex=0;for(b=K.exec(v);b;)f[b[1]]=b[2],b=K.exec(v);v=f}else v=null;return d=v,d&&"start"===d.ignore&&(C.lastIndex=c,m=C.exec(a),e+=m[0],c+=m[0].length),e=e.replace(w.lineBreak,"\n"),[e,"TK_BLOCK_COMMENT",d]}if("/"===a.charAt(c))return c+=1,J.lastIndex=c,m=J.exec(a),e="//"+m[0],c+=m[0].length,[e,"TK_COMMENT"]}if("`"===f||"'"===f||'"'===f||("/"===f||g.e4x&&"\x3c"===f&&a.slice(c-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/))&&
("TK_RESERVED"===u.type&&n(u.text,"return case throw else do typeof yield".split(" "))||"TK_END_EXPR"===u.type&&")"===u.text&&u.parent&&"TK_RESERVED"===u.parent.type&&n(u.parent.text,["if","while","for"])||n(u.type,"TK_COMMENT TK_START_EXPR TK_START_BLOCK TK_END_BLOCK TK_OPERATOR TK_EQUALS TK_EOF TK_SEMICOLON TK_COMMA".split(" ")))){d=f;u=m=!1;if(b=f,"/"===d)for(v=!1;c<q&&(m||v||a.charAt(c)!==d)&&!w.newline.test(a.charAt(c));)b+=a.charAt(c),m?m=!1:(m="\\"===a.charAt(c),"["===a.charAt(c)?v=!0:"]"===
a.charAt(c)&&(v=!1)),c+=1;else if(g.e4x&&"\x3c"===d){if(f=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])(\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{.*?}))*\s*(\/?)\s*>/g,m=a.slice(c-1),(e=f.exec(m))&&0===e.index){d=e[2];for(b=0;e;){u=!!e[1];var x=e[2],B=!!e[e.length-1]||"![CDATA["===x.slice(0,8);if(x!==d||B||(u?--b:++b),0>=b)break;e=f.exec(m)}return v=e?e.index+e[0].length:m.length,m=m.slice(0,v),c+=v-1,m=m.replace(w.lineBreak,"\n"),[m,"TK_STRING"]}}else for(;c<q&&(m||a.charAt(c)!==d&&
("`"===d||!w.newline.test(a.charAt(c))));)(m||"`"===d)&&w.newline.test(a.charAt(c))?("\r"===a.charAt(c)&&"\n"===a.charAt(c+1)&&(c+=1),b+="\n"):b+=a.charAt(c),m?(("x"===a.charAt(c)||"u"===a.charAt(c))&&(u=!0),m=!1):m="\\"===a.charAt(c),c+=1;if(u&&g.unescape_strings){a:{v=b;f=!1;m="";e=0;b="";for(u=0;f||e<v.length;)if(x=v.charAt(e),e++,f){if(f=!1,"x"===x)b=v.substr(e,2),e+=2;else if("u"===x)b=v.substr(e,4),e+=4;else{m+="\\"+x;continue}if(!b.match(/^[0123456789abcdefABCDEF]+$/))break a;if(u=parseInt(b,
16),0<=u&&32>u)m+="x"===x?"\\x"+b:"\\u"+b;else if(34===u||39===u||92===u)m+="\\"+String.fromCharCode(u);else{if("x"===x&&126<u&&255>=u)break a;m+=String.fromCharCode(u)}}else"\\"===x?f=!0:m+=x;v=m}b=v}if(c<q&&a.charAt(c)===d&&(b+=d,c+=1,"/"===d))for(;c<q&&w.isIdentifierStart(a.charCodeAt(c));)b+=a.charAt(c),c+=1;return[b,"TK_STRING"]}if("#"===f){if(0===z.length&&"!"===a.charAt(c)){for(b=f;c<q&&"\n"!==f;)f=a.charAt(c),b+=f,c+=1;return[b.replace(/^\s+|\s+$/g,"")+"\n","TK_UNKNOWN"]}if(v="#",c<q&&A.test(a.charAt(c))){do f=
a.charAt(c),v+=f,c+=1;while(c<q&&"#"!==f&&"\x3d"!==f);return"#"===f||("["===a.charAt(c)&&"]"===a.charAt(c+1)?(v+="[]",c+=2):"{"===a.charAt(c)&&"}"===a.charAt(c+1)&&(v+="{}",c+=2)),[v,"TK_WORD"]}}if("\x3c"===f&&("?"===a.charAt(c)||"%"===a.charAt(c))&&(L.lastIndex=c-1,b=L.exec(a),b))return f=b[0],c+=f.length-1,f=f.replace(w.lineBreak,"\n"),[f,"TK_STRING"];if("\x3c"===f&&"\x3c!--"===a.substring(c-1,c+3)){c+=3;for(f="\x3c!--";!w.newline.test(a.charAt(c))&&c<q;)f+=a.charAt(c),c++;return k=!0,[f,"TK_COMMENT"]}if("-"===
f&&k&&"--\x3e"===a.substring(c-1,c+2))return k=!1,c+=2,["--\x3e","TK_COMMENT"];if("."===f)return[f,"TK_DOT"];if(n(f,F)){for(;c<q&&n(f+a.charAt(c),F)&&!(f+=a.charAt(c),c+=1,c>=q););return","===f?[f,"TK_COMMA"]:"\x3d"===f?[f,"TK_EQUALS"]:[f,"TK_OPERATOR"]}return[f,"TK_UNKNOWN"]}var y=["\n","\r","\t"," "],A=/[0-9]/,p=/[0123456789abcdefABCDEF]/,F="+ - * / % \x26 ++ -- \x3d +\x3d -\x3d *\x3d /\x3d %\x3d \x3d\x3d \x3d\x3d\x3d !\x3d !\x3d\x3d \x3e \x3c \x3e\x3d \x3c\x3d \x3e\x3e \x3c\x3c \x3e\x3e\x3e \x3e\x3e\x3e\x3d \x3e\x3e\x3d \x3c\x3c\x3d \x26\x26 \x26\x3d | || ! ~ , : ? ^ ^\x3d |\x3d :: \x3d\x3e \x3c%\x3d \x3c% %\x3e \x3c?\x3d \x3c? ?\x3e".split(" ");
this.line_starters="continue try throw return var let const if switch case default for while break function import export".split(" ");var t=this.line_starters.concat("do in else get set new catch finally typeof yield async await".split(" ")),G=/([\s\S]*?)((?:\*\/)|$)/g,J=/([^\n\r\u2028\u2029]*)/g,E=/\/\* beautify( \w+[:]\w+)+ \*\//g,K=/ (\w+)[:](\w+)/g,C=/([\s\S]*?)((?:\/\*\sbeautify\signore:end\s\*\/)|$)/g,L=/((<\?php|<\?=)[\s\S]*?\?>)|(<%[\s\S]*?%>)/g,H,I,k,z,c,q;this.tokenize=function(){q=a.length;
c=0;k=!1;z=[];for(var b,e,g,f=null,d=[],m=[];!e||"TK_EOF"!==e.type;){g=h();for(b=new M(g[1],g[0],H,I);"TK_COMMENT"===b.type||"TK_BLOCK_COMMENT"===b.type||"TK_UNKNOWN"===b.type;)"TK_BLOCK_COMMENT"===b.type&&(b.directives=g[2]),m.push(b),g=h(),b=new M(g[1],g[0],H,I);m.length&&(b.comments_before=m,m=[]);"TK_START_BLOCK"===b.type||"TK_START_EXPR"===b.type?(b.parent=e,d.push(f),f=b):("TK_END_BLOCK"===b.type||"TK_END_EXPR"===b.type)&&f&&("]"===b.text&&"["===f.text||")"===b.text&&"("===f.text||"}"===b.text&&
"{"===f.text)&&(b.parent=f.parent,f=d.pop());z.push(b);e=b}return z}}var w={},a,M;(function(a){var g=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),
h=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]");
a.newline=/[\n\r\u2028\u2029]/;a.lineBreak=/\r\n|[\n\r\u2028\u2029]/g;a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:170<=a&&g.test(String.fromCharCode(a))};a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:170<=a&&h.test(String.fromCharCode(a))}})(w);a={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",
Expression:"Expression"};M=function(a,g,h,n){this.type=a;this.text=g;this.comments_before=[];this.newlines=h||0;this.wanted_newline=0<h;this.whitespace_before=n||"";this.directives=this.parent=null};"function"==typeof define&&define.amd?define([],function(){return{js_beautify:F}}):"undefined"!=typeof exports?exports.js_beautify=F:"undefined"!=typeof window?window.js_beautify=F:"undefined"!=typeof global&&(global.js_beautify=F)})();
(function(){function n(n,h,F,w){var a,M,r,g,B,y,D,p,O,t,G,J,E,K,C,L,H,I,k,z,c;h=h||{};void 0!==h.wrap_line_length&&0!==parseInt(h.wrap_line_length,10)||void 0===h.max_char||0===parseInt(h.max_char,10)||(h.wrap_line_length=h.max_char);M=void 0===h.indent_inner_html?!1:h.indent_inner_html;r=void 0===h.indent_size?4:parseInt(h.indent_size,10);g=void 0===h.indent_char?" ":h.indent_char;y=void 0===h.brace_style?"collapse":h.brace_style;B=0===parseInt(h.wrap_line_length,10)?32786:parseInt(h.wrap_line_length||
250,10);D=h.unformatted||"a span img bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");O=(p=void 0===h.preserve_newlines?!0:h.preserve_newlines)?isNaN(parseInt(h.max_preserve_newlines,10))?32786:parseInt(h.max_preserve_newlines,10):0;t=void 0===h.indent_handlebars?!1:h.indent_handlebars;G=void 0===h.wrap_attributes?"auto":h.wrap_attributes;J=void 0===h.wrap_attributes_indent_size?r:parseInt(h.wrap_attributes_indent_size,
10)||r;E=void 0===h.end_with_newline?!1:h.end_with_newline;K="object"==typeof h.extra_liners&&h.extra_liners?h.extra_liners.concat():"string"==typeof h.extra_liners?h.extra_liners.split(","):["head","body","/html"];C=h.eol?h.eol:"\n";h.indent_with_tabs&&(g="\t",r=1);C=C.replace(/\\r/,"\r").replace(/\\n/,"\n");a=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=
this.token_type="",this.newlines=0,this.indent_content=M,this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta source !doctype basefont base area hr wbr param img isindex embed".split(" "),extra_liners:K,in_array:function(a,b){for(var e=0;e<b.length;e++)if(a===b[e])return!0;return!1}},this.is_whitespace=function(a){for(;0<a.length;a++)if(!this.Utils.in_array(a.charAt(0),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var a="";if(a=this.input.charAt(this.pos),
this.Utils.in_array(a,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(a,this.Utils.whitespace);)p&&"\n"===a&&this.newlines<=O&&(this.newlines+=1),this.pos++,a=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(a){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,a),this.print_indentation(a)):(this.line_char_count++,a.push(" "))},this.get_content=function(){for(var a="",b=[],e;"\x3c"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?
b.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(b);else{if(t)if(e=this.input.substr(this.pos,3),"{{#"===e||"{{/"===e)break;else{if("{{!"===e)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;b.push(a)}}return b.length?b.join(""):""},this.get_contents_to=function(a){var b,e;if(this.pos===this.input.length)return["","TK_EOF"];var c="";
a=new RegExp("\x3c/"+a+"\\s*\x3e","igm");return a.lastIndex=this.pos,b=a.exec(this.input),e=b?b.index:this.input.length,this.pos<e&&(c=this.input.substring(this.pos,e),this.pos=e),c},this.record_tag=function(a){this.tags[a+"count"]?(this.tags[a+"count"]++,this.tags[a+this.tags[a+"count"]]=this.indent_level):(this.tags[a+"count"]=1,this.tags[a+this.tags[a+"count"]]=this.indent_level);this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]},this.retrieve_tag=
function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]);delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+"count"]];1===this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}},this.indent_to_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+
"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]])}},this.get_tag=function(a){var b="",e=[],c="",f=!1,d=!0,m,h,k=this.pos,n=this.line_char_count,l,p,r,y,w;a=void 0!==a?a:!1;do{if(this.pos>=this.input.length)return a&&(this.pos=k,this.line_char_count=n),e.length?e.join(""):["","TK_EOF"];if(b=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(b,this.Utils.whitespace))f=!0;else{if(("'"===b||'"'===b)&&(b+=this.get_unformatted(b),f=!0),"\x3d"===b&&(f=!1),e.length&&"\x3d"!==e[e.length-
1]&&"\x3e"!==b&&f){if(this.space_or_wrap(e),f=!1,!d&&"force"===G&&"/"!==b)for(this.print_newline(!0,e),this.print_indentation(e),l=0;l<J;l++)e.push(g);for(l=0;l<e.length;l++)if(" "===e[l]){d=!1;break}}if(t&&"\x3c"===h&&"{{"===b+this.input.charAt(this.pos)&&(b+=this.get_unformatted("}}"),e.length&&" "!==e[e.length-1]&&"\x3c"!==e[e.length-1]&&(b=" "+b),f=!0),"\x3c"!==b||h||(m=this.pos-1,h="\x3c"),t&&!h&&2<=e.length&&"{"===e[e.length-1]&&"{"===e[e.length-2]&&(m="#"===b||"/"===b||"!"===b?this.pos-3:this.pos-
2,h="{"),this.line_char_count++,e.push(b),e[1]&&("!"===e[1]||"?"===e[1]||"%"===e[1])){e=[this.get_comment(m)];break}if(t&&e[1]&&"{"===e[1]&&e[2]&&"!"===e[2]){e=[this.get_comment(m)];break}if(t&&"{"===h&&2<e.length&&"}"===e[e.length-2]&&"}"===e[e.length-1])break}}while("\x3e"!==b);return p=e.join(""),r=-1!==p.indexOf(" ")?p.indexOf(" "):"{"===p.charAt(0)?p.indexOf("}"):p.indexOf("\x3e"),y="\x3c"!==p.charAt(0)&&t?"#"===p.charAt(2)?3:2:1,w=p.substring(y,r).toLowerCase(),"/"===p.charAt(p.length-2)||this.Utils.in_array(w,
this.Utils.single_token)?a||(this.tag_type="SINGLE"):t&&"{"===p.charAt(0)&&"else"===w?a||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(w,D)?(c=this.get_unformatted("\x3c/"+w+"\x3e",p),e.push(c),this.tag_type="SINGLE"):"script"===w&&(-1===p.search("type")||-1<p.search("type")&&-1<p.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?a||(this.record_tag(w),this.tag_type="SCRIPT"):"style"===
w&&(-1===p.search("type")||-1<p.search("type")&&-1<p.search("text/css"))?a||(this.record_tag(w),this.tag_type="STYLE"):"!"===w.charAt(0)?a||(this.tag_type="SINGLE",this.traverse_whitespace()):a||("/"===w.charAt(0)?(this.retrieve_tag(w.substring(1)),this.tag_type="END"):(this.record_tag(w),"html"!==w.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(e),this.Utils.in_array(w,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&
"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),a&&(this.pos=k,this.line_char_count=n),e.join("")},this.get_comment=function(a){var b="",e="\x3e",c=!1;this.pos=a;input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&(b+=input_char,b.charAt(b.length-1)!==e.charAt(e.length-1)||-1===b.indexOf(e));)!c&&10>b.length&&(0===b.indexOf("\x3c![if")?(e="\x3c![endif]\x3e",c=!0):0===b.indexOf("\x3c![cdata[")?(e="]]\x3e",c=!0):0===b.indexOf("\x3c![")?(e=
"]\x3e",c=!0):0===b.indexOf("\x3c!--")?(e="--\x3e",c=!0):0===b.indexOf("{{!")?(e="}}",c=!0):0===b.indexOf("\x3c?")?(e="?\x3e",c=!0):0===b.indexOf("\x3c%")&&(e="%\x3e",c=!0)),input_char=this.input.charAt(this.pos),this.pos++;return b},this.get_unformatted=function(a,b){if(b&&-1!==b.toLowerCase().indexOf(a))return"";var e="",c="",f=0,d=!0;do{if(this.pos>=this.input.length)break;if(e=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(e,this.Utils.whitespace)){if(!d){this.line_char_count--;continue}if("\n"===
e||"\r"===e){c+="\n";this.line_char_count=0;continue}}c+=e;this.line_char_count++;d=!0;t&&"{"===e&&c.length&&"{"===c.charAt(c.length-2)&&(c+=this.get_unformatted("}}"),f=c.length)}while(-1===c.toLowerCase().indexOf(a,f));return c},this.get_token=function(){var a,b,c;return"TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token?(b=this.last_token.substr(7),a=this.get_contents_to(b),"string"!=typeof a)?a:[a,"TK_"+b]:"CONTENT"===this.current_mode?(a=this.get_content(),"string"!=typeof a?
a:[a,"TK_CONTENT"]):"TAG"===this.current_mode?(a=this.get_tag(),"string"!=typeof a?a:(c="TK_TAG_"+this.tag_type,[a,c])):void 0},this.get_full_indent=function(a){return(a=this.indent_level+a||0,1>a)?"":Array(a+1).join(this.indent_string)},this.is_unformatted=function(a,b){if(!this.Utils.in_array(a,b))return!1;if("a"!==a.toLowerCase()||!this.Utils.in_array("a",b))return!0;var c=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!c||this.Utils.in_array(c,b)?!0:!1},this.printer=function(a,
b,c,g,f){this.input=a||"";this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n");this.output=[];this.indent_character=b;this.indent_string="";this.indent_size=c;this.brace_style=f;this.indent_level=0;this.wrap_line_length=g;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){(this.line_char_count=0,b&&b.length)&&(a||"\n"!==b[b.length-1])&&("\n"!==b[b.length-1]&&(b[b.length-1]=b[b.length-1].replace(/\s+$/g,"")),b.push("\n"))};
this.print_indentation=function(a){for(var b=0;b<this.indent_level;b++)a.push(this.indent_string),this.line_char_count+=this.indent_string.length};this.print_token=function(a){this.is_whitespace(a)&&!this.output.length||((a||""!==a)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),a=a.replace(/^\s+/g,"")),this.print_token_raw(a))};this.print_token_raw=function(a){0<this.newlines&&(a=a.replace(/\s+$/g,""));a&&""!==a&&(1<a.length&&"\n"===a.charAt(a.length-
1)?(this.output.push(a.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(a));for(a=0;a<this.newlines;a++)this.print_newline(0<a,this.output);this.newlines=0};this.indent=function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&this.indent_level--}},this};for(a.printer(n,g,r,B,y);L=a.get_token(),a.token_text=L[0],a.token_type=L[1],"TK_EOF"!==a.token_type;){switch(a.token_type){case "TK_TAG_START":a.print_newline(!1,a.output);a.print_token(a.token_text);a.indent_content&&
(a.indent(),a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===a.last_token&&""===a.last_text&&(H=a.token_text.match(/\w+/)[0],I=null,a.output.length&&(I=a.output[a.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),null!==I&&(I[1]===H||a.Utils.in_array(I[1],D))||a.print_newline(!1,a.output));a.print_token(a.token_text);a.current_mode="CONTENT";
break;case "TK_TAG_SINGLE":(n=a.token_text.match(/^\s*<([a-z-]+)/i))&&a.Utils.in_array(n[1],D)||a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_HANDLEBARS_ELSE":a.print_token(a.token_text);a.indent_content&&(a.indent(),a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_TAG_HANDLEBARS_COMMENT":a.print_token(a.token_text);a.current_mode="TAG";break;case "TK_CONTENT":a.print_token(a.token_text);a.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":""!==
a.token_text&&((a.print_newline(!1,a.output),n=a.token_text,z=1,"TK_SCRIPT"===a.token_type?k="function"==typeof F&&F:"TK_STYLE"===a.token_type&&(k="function"==typeof w&&w),"keep"===h.indent_scripts?z=0:"separate"===h.indent_scripts&&(z=-a.indent_level),r=a.get_full_indent(z),k)?(B=function(){this.eol="\n"},B.prototype=h,B=new B,n=k(n.replace(/^\s*/,r),B)):(B=n.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(a.indent_string).length-1,B=a.get_full_indent(z-B),n=n.replace(/^\s*/,r).replace(/\r\n|\r|\n/g,
"\n"+B).replace(/\s+$/,"")),n&&(a.print_token_raw(n),a.print_newline(!0,a.output)));a.current_mode="TAG";break;default:""!==a.token_text&&a.print_token(a.token_text)}a.last_token=a.token_type;a.last_text=a.token_text}return c=a.output.join("").replace(/[\r\n\t ]+$/,""),E&&(c+="\n"),"\n"!=C&&(c=c.replace(/[\n]/g,C)),c}if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],function(A){var h=A("./beautify"),F=A("./beautify-css");return{html_beautify:function(w,a){return n(w,
a,h.js_beautify,F.css_beautify)}}});else if("undefined"!=typeof exports){var F=require("./beautify.js"),O=require("./beautify-css.js");exports.html_beautify=function(A,h){return n(A,h,F.js_beautify,O.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(A,h){return n(A,h,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(A,h){return n(A,h,global.js_beautify,global.css_beautify)})})();