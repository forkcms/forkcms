{# This file is generated by the Spoon2Twig Converter #}

{% include "/Layout/Templates/Head.html.twig" %}
{% include "/Layout/Templates/StructureStartModule.html.twig" %}
<div class="row fork-module-heading">
  <div class="col-md-12">
    <h2>{{ 'lbl.EditForm'|trans|sprintf(name|capitalize ) }}</h2>
  </div>
</div>
{% form edit %}
  <script type="text/javascript">
    //@todo why data comes not from action?
    //<![CDATA[
      var defaultErrorMessages = {};
      {% if errors %}
      {% for error in errors %}
      defaultErrorMessages.{{ err.or.type }} = '{{ err.or.message }}';
      {% endfor %}
      {% endif %}
    //]]>
  </script>
  <input type="hidden" name="id" id="formId" value="{{ id }}" />
  <div class="row fork-module-content">
    <div class="col-md-12">
      <div role="tabpanel">
        <ul class="nav nav-tabs" role="tablist">
          <li role="presentation" class="active">
            <a href="#tabGeneral" aria-controls="general" role="tab" data-toggle="tab">{{ 'lbl.General'|trans|capitalize }}</a>
          </li>
          <li role="presentation">
            <a href="#tabFields" aria-controls="fields" role="tab" data-toggle="tab">{{ 'lbl.Fields'|trans|capitalize }}</a>
          </li>
          <li role="presentation">
            <a href="#tabExtra" aria-controls="extra" role="tab" data-toggle="tab">{{ 'lbl.Extra'|trans|capitalize }}</a>
          </li>
        </ul>
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane active" id="tabGeneral">
            <div class="row">
              <div class="col-md-12">
                <h3>{{ 'lbl.General'|trans|capitalize }}</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="name">
                    {{ 'lbl.Name'|trans|capitalize }}
                    <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
                  </label>
                  {% form_field_error name %} {% form_field name %}
                </div>
                <div class="form-group">
                  <label for="method">
                    {{ 'lbl.Method'|trans|capitalize }}
                    <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
                  </label>
                  {% form_field_error method %} {% form_field method %}
                </div>
                <div class="form-group">
                  <label for="email">
                    {{ 'lbl.Recipient'|trans|capitalize }}
                    <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
                  </label>
                  {% form_field_error email %} {% form_field email %}
                </div>
                <div class="form-group">
                  <label for="successMessage">
                    {{ 'lbl.SuccessMessage'|trans|capitalize }}
                    <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
                  </label>
                  {% form_field_error success_message %} {% form_field success_message %}
                </div>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="tabFields">
            <div class="row">
              <div class="col-md-12">
                <h3>{{ 'lbl.Fields'|trans|capitalize }}</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <p class="text-warning">{{ msg.ImportantImmediateUpdate }}</p>
              </div>
            </div>
            <div class="row">
              <div class="col-md-8">
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      {{ 'lbl.Preview'|trans|capitalize }}
                    </h4>
                  </div>
                  <div id="fieldsHolder" class="panel-body sequenceByDragAndDrop">
                    {% if fields %}
                    {% for field in fields %}
                    {{ field.field }}
                    {% endfor %}
                    {% endif %}

                    {# This row always needs to be here. We show/hide it with javascript #}
                    <div id="noFields" class="alert alert-info"{% if fields %} style="display: none;"{% endif %}>
                      {{ msg.NoFields }}
                    </div>

                    {# Submit button is always here. Cannot be deleted or moved. #}
                    <div class="btn-toolbar">
                      <div class="btn-group pull-left" role="group">
                        {{ btnSubmitField }}
                      </div>
                      <div class="btn-group pull-right" role="group">
                        <a href="#edit-{{ submitId }}" class="btn btn-default jsFieldEdit" rel="{{ submitId }}" title="{{ lbl.Edit }}">
                          <span class="glyphicon glyphicon-pencil"></span>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div id="formElements" class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title">
                      {{ 'lbl.AddFields'|trans|capitalize }}
                    </h4>
                  </div>
                  <div class="panel-body">
                    <h5>{{ 'lbl.FormElements'|trans|capitalize }}</h5>
                    <ul class="list-group">
                      <li id="textboxSelector" class="list-group-item">
                        <a href="#textbox" rel="textboxDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Textbox'|trans|capitalize }}
                        </a>
                      </li>
                      <li id="textareaSelector" class="list-group-item">
                        <a href="#textarea" rel="textareaDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Textarea'|trans|capitalize }}
                        </a>
                      </li>
                      <li id="datetimeSelector" class="list-group-item">
                        <a href="#datetime" rel="datetimeDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Datetime'|trans|capitalize }}
                        </a>
                      </li>
                      <li id="dropdownSelector" class="list-group-item">
                        <a href="#dropdown" rel="dropdownDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Dropdown'|trans|capitalize }}
                        </a>
                      </li>
                      <li id="checkboxSelector" class="list-group-item">
                        <a href="#checkbox" rel="checkboxDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Checkbox'|trans|capitalize }}
                        </a>
                      </li>
                      <li id="radiobuttonSelector" class="list-group-item">
                        <a href="#radiobutton" rel="radiobuttonDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Radiobutton'|trans|capitalize }}
                        </a>
                      </li>
                    </ul>
                    <h5>{{ 'lbl.TextElements'|trans|capitalize }}</h5>
                    <ul class="list-group">
                      <li id="headingSelector" class="list-group-item">
                        <a href="#heading" rel="headingDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Heading'|trans|capitalize }}
                        </a>
                      </li>
                      <li id="paragraphSelector" class="list-group-item">
                        <a href="#paragraph" rel="paragraphDialog" class="jsFieldDialogTrigger">
                          {{ 'lbl.Paragraph'|trans|capitalize }}
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="tabExtra">
            <div class="row">
              <div class="col-md-12">
                <h3>{{ 'lbl.Extra'|trans|capitalize }}</h3>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <label for="identifier">
                  {{ 'lbl.Identifier'|trans|capitalize }}
                  <abbr class="glyphicon glyphicon-info-sign" title="{{ msg.HelpIdentifier }}"></abbr>
                </label>
                {% form_field_error identifier %} {% form_field identifier %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row fork-page-actions">
    <div class="col-md-12">
      <div class="btn-toolbar">
        <div class="btn-group pull-left" role="group">
          {% if showFormBuilderDelete %}
          <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#confirmDelete">
            <span class="glyphicon glyphicon-trash"></span>
            {{ 'lbl.Delete'|trans|capitalize }}
          </button>
          {% endif %}
        </div>
        <div class="btn-group pull-right" role="group">
          <button id="editButton" type="submit" name="edit" class="btn btn-primary">
            <span class="glyphicon glyphicon-pencil"></span>&nbsp;
            {{ 'lbl.Save'|trans|capitalize }}
          </button>
        </div>
      </div>
    </div>
  </div>
  {% include "/FormBuilder/Layout/Templates/Dialogs.html.twig" %}
{% endform %}
{% include "/Layout/Templates/StructureEndModule.html.twig" %}
{% include "/Layout/Templates/Footer.html.twig" %}
