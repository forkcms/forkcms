{# This file is generated by the Spoon2Twig Converter #}

{% include "/Layout/Templates/Head.html.twig" %}
{% include "/Layout/Templates/StructureStartModule.html.twig" %}
<div class="row fork-module-heading">
  <div class="col-md-12">
    <h2>{{ 'lbl.Edit'|trans|capitalize }}</h2>
  </div>
</div>
{% form edit %}
  <div class="row fork-module-content">
    <div class="col-md-12">
      <div class="form-group">
        <label for="title">{{ 'lbl.Title'|trans|capitalize }}</label>
        {% form_field_error title %} {% form_field title %}
      </div>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            {{ 'lbl.Address'|trans|capitalize }}
          </h3>
        </div>
        <div class="panel-body">
          <div class="form-group">
            <label for="street">
              {{ 'lbl.Street'|trans|capitalize }}
              <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
            </label>
            {% form_field_error street %} {% form_field street %}
          </div>
          <div class="form-group">
            <label for="number">
              {{ 'lbl.Number'|trans|capitalize }}
              <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
            </label>
            {% form_field_error number %} {% form_field number %}
          </div>
          <div class="form-group">
            <label for="zip">
              {{ 'lbl.Zip'|trans|capitalize }}
              <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
            </label>
            {% form_field_error zip %} {% form_field zip %}
          </div>
          <div class="form-group">
            <label for="city">
              {{ 'lbl.City'|trans|capitalize }}
              <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
            </label>
            {% form_field_error city %} {% form_field city %}
          </div>
          <div class="form-group">
            <label for="country">
              {{ 'lbl.Country'|trans|capitalize }}
              <abbr class="glyphicon glyphicon-asterisk" title="{{ 'lbl.RequiredField'|trans|capitalize }}"></abbr>
            </label>
            {% form_field_error country %} {% form_field country %}
          </div>
          <div class="hide">
            {{ hidMapId }} {{ hidRedirect }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row fork-module-actions">
    <div class="col-md-12">
      <div class="btn-group pull-right" role="group">
        <button id="editButton" type="submit" name="edit" class="btn btn-primary">{{ 'lbl.UpdateMap'|trans|capitalize }}</button>
      </div>
    </div>
  </div>
{% endform %}
{% form settings %}
  <div class="row fork-module-content">
    <div class="col-md-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            {{ 'lbl.Map'|trans|capitalize }}
          </h3>
        </div>
        <div class="panel-body">
          <div id="map" style="width: 100%; height: {{ settings.height }}px;"></div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            {{ 'lbl.Settings'|trans|capitalize }}
          </h3>
        </div>
        <div class="panel-body">
          <div class="form-group">
            <label for="zoomLevel">{{ 'lbl.ZoomLevel'|trans|capitalize }}</label>
            {% form_field_error zoom_level %} {% form_field zoom_level %}
          </div>
          <div class="form-group"{% if not godUser %} style="display:none;"{% endif %}>
            <label for="width">{{ 'lbl.Width'|trans|capitalize }}</label>
            <p class="text-info">{{ 'msg.WidthHelp'|trans|sprintf(300:800 ) }}</p>
            {% form_field_error width %} {% form_field width %}
          </div>
          <div class="form-group"{% if not godUser %} style="display:none;"{% endif %}>
            <label for="height">{{ 'lbl.Height'|trans|capitalize }}</label>
            <p class="text-info">{{ 'msg.HeightHelp'|trans|sprintf(150 ) }}</p>
            {% form_field_error height %} {% form_field height %}
          </div>
          <div class="form-group">
            <label for="mapType">{{ 'lbl.MapType'|trans|capitalize }}</label>
            {% form_field_error map_type %} {% form_field map_type %}
          </div>
          <div class="form-group">
            <ul class="list-unstyled">
              <li class="checkbox">
                <label for="fullUrl">{% form_field full_url %} {{ msg.ShowMapUrl }}</label>
              </li>
              <li class="checkbox">
                <label for="directions">{% form_field directions %} {{ msg.ShowDirections }}</label>
              </li>
              <li class="checkbox">
                <label for="markerOverview">{% form_field marker_overview %} {{ msg.ShowMarkerOverview }}</label>
              </li>
            </ul>
          </div>
          <div class="btn-toolbar">
            <div class="btn-group pull-right" role="group">
              <a href="#" id="saveLiveData" class="btn btn-primary">
                <span class="glyphicon glyphicon-pencil"></span>&nbsp;{{ 'lbl.Save'|trans|capitalize }}
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row fork-page-actions">
    <div class="col-md-12">
      <div class="btn-toolbar">
        <div class="btn-group pull-left" role="group">
          {% if showLocationDelete %}
          <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#confirmDelete">
            <span class="glyphicon glyphicon-trash"></span>
            {{ 'lbl.Delete'|trans|capitalize }}
          </button>
          {% endif %}
        </div>
        <div class="btn-group pull-right" role="group">
          <button id="saveLiveData" type="button" name="edit" class="btn btn-primary">
            <span class="glyphicon glyphicon-pencil"></span>&nbsp;{{ 'lbl.Save'|trans|capitalize }}
          </button>
        </div>
      </div>
      {% if showLocationDelete %}
      <div class="modal fade" id="confirmDelete" tabindex="-1" role="dialog" aria-labelledby="{{ 'lbl.Delete'|trans|capitalize }}" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <span class="modal-title h4">{{ 'lbl.Delete'|trans|capitalize }}</span>
            </div>
            <div class="modal-body">
              <p>{{ 'msg.ConfirmDelete'|trans|sprintf(item.title ) }}</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">{{ 'lbl.Cancel'|trans|capitalize }}</button>
              <a href="{{ geturl('delete' ) }}&amp;id={{ item.id }}" class="btn btn-primary">
                {{ 'lbl.OK'|trans|capitalize }}
              </a>
            </div>
          </div>
        </div>
      </div>
      {% endif %}
    </div>
  </div>
{% endform %}
<script type="text/javascript">
  var mapOptions =
  {
    zoom: '{{ settings.zoom_level }}' == 'auto' ? 0 : {{ settings.zoom_level }},
    type: '{{ settings.map_type }}',
    center:
    {
      lat: {{ settings.center.lat }},
      lng: {{ settings.center.lng }}
    }
  };
  var markers = [];
  {% if item.lat %}
    {% if item.lng %}
      markers.push(
      {
        lat: {{ item.lat }},
        lng: {{ item.lng }},
        title: '{{ item.title }}',
        text: '<p>{{ item.street }} {{ item.number }}</p><p>{{ item.zip }} {{ item.city }}</p>',
        dragable: true
      });
    {% endif %}
  {% endif %}
</script>
{% include "/Layout/Templates/StructureEndModule.html.twig" %}
{% include "/Layout/Templates/Footer.html.twig" %}
