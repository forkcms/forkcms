{# This file is generated by the Spoon2Twig Converter #}

{% extends '/Layout/Templates/base.html.twig' %}

{% block actionbar %}
  <div class="row fork-module-heading">
    <div class="col-md-6">
      <h2>{{ 'lbl.Statistics'|trans|capitalize }} {{ lbl.For }} &ldquo;{{ campaign.name }}&rdquo;</h2>
    </div>
    <div class="col-md-6">

      <div class="btn-toolbar pull-right">
        <div class="btn-group" role="group">
          {% if showMailmotorCampaigns %}
          <a href="{{ geturl('campaigns' ) }}" class="btn btn-default" title="{{ 'lbl.Campaigns'|trans|capitalize }}">
            <span class="fa fa-list"></span>
            {{ 'msg.BackToCampaigns'|trans|sprintf(campaign.name ) }}
          </a>
          {% endif %}
          {% if showMailmotorExportStatisticsCampaign %}
          <a href="{{ geturl('export_statistics_campaign' ) }}&amp;id={{ campaign.id }}" class="btn btn-default" title="{{ 'lbl.ExportStatistics'|trans|capitalize }}">
            <span class="fa fa-download"></span>
            {{ 'lbl.ExportStatistics'|trans|capitalize }}
          </a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block content %}
  <div class="row fork-module-content">
    <div class="col-md-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            {{ 'lbl.OpenedMailings'|trans|capitalize }}
          </h3>
        </div>
        <div class="panel-body">
          <div id="dataChartPieChart" class="hidden">
            <ul class="data">
              {% if stats.unique_opens %}<li><span class="label">{{ 'lbl.OpenedMailings'|trans|capitalize }}</span><span class="value">{{ stats.unique_opens }}</span><span class="percentage">{{ pieGraphData.percentage }}</span></li>{% endif %}
              {% if stats.unopens %}<li><span class="label">{{ 'lbl.UnopenedMailings'|trans|capitalize }}</span><span class="value">{{ stats.unopens }}</span><span class="percentage">{{ pieGraphData.percentage }}</span></li>{% endif %}
              {% if stats.bounces %}<li><span class="label">{{ 'lbl.Bounces'|trans|capitalize }}</span><span class="value">{{ stats.bounces }}</span><span class="percentage">{{ pieGraphData.percentage }}</span></li>{% endif %}
            </ul>
          </div>
          <div id="chartPieChart">&nbsp;</div>
        </div>
        <div class="panel-footer">
          <div class="btn-toolbar">
            <div class="btn-group pull-right" role="group">
              <a href="http://highcharts.com/" class="btn analyticsBacklink">{{ lbl.Highcharts }}</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">
            {{ 'lbl.Summary'|trans|capitalize }}
          </h3>
        </div>
        <div class="panel-body">
          <p><strong>{{ stats.recipients }}</strong> {{ 'lbl.SentMailings'|trans|capitalize }} <small>(100%)</small></p>
          <p><strong>{{ stats.unique_opens }}</strong> {{ 'lbl.OpenedMailings'|trans|capitalize }} <small>({{ stats.unique_opens_percentage }})</small></p>
          <p><strong>{{ stats.unopens }}</strong> {{ 'lbl.UnopenedMailings'|trans|capitalize }} <small>({{ stats.unopens_percentage }})</small></p>
          <p><strong>{{ stats.clicks }}</strong> {{ 'lbl.Clicks'|trans|capitalize }} <small>({{ stats.clicks_percentage }})</small></p>
          {% if stats.bounces %}<p><strong>{{ stats.bounces }}/{{ stats.recipients_total }} </strong>{{ 'lbl.BounceRate'|trans|capitalize }} <small>({{ stats.bounces_percentage }})</small></p>{% endif %}
        </div>
      </div>
    </div>
  </div>
  <div class="row fork-module-content">
    <div class="col-md-12">
      <h3>{{ 'msg.CampaignMailings'|trans|capitalize }}</h3>
      {% if dataGrid %}
      {{ dataGrid }}
      {% endif %}
      {% if not dataGrid %}
      <p>{{ msg.NoItems }}</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
