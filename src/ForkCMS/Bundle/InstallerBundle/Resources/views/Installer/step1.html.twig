{% extends 'ForkCMSInstallerBundle:Installer:base.html.twig' %}

{% block content %}
  <form action="index.php" method="get" id="step2" class="forkForms submitWithLink">
    <div>
      <input type="hidden" name="step" value="2" />
      <div class="horizontal">
        {% if checker.hasErrors %}
          <div>
            <div class="formMessage errorMessage">
              <p>Your server doesn't meet the minimum requirements to run Fork CMS.</p>
            </div>
          </div>
        {% endif %}
        {% if checker.hasWarnings and not checker.hasErrors %}
          <div>
            <div class="formMessage warningMessage">
              <p>Your server might not run Fork CMS properly.</p>
            </div>
          </div>
        {% endif %}
        <div id="requirementsInformation">
          <h3><span class="{{ checker.errors.phpVersion }}">{{ checker.errors.phpVersion }}</span> PHP version</h3>
          <p>PHP version must be at least 5.3.3, Before using Fork CMS, upgrade your PHP installation, preferably to the latest version. PHP version must not be 5.3.16 as Symfony won't work properly with it.</p>

          <h3><span class="{{ checker.errors.subfolder }}">{{ checker.errors.subfolder }}</span> Fork CMS can't be installed in subfolders</h3>

          <h3>PHP Extensions</h3>
          <h4><span class="{{ checker.errors.extensionCURL }}">{{ checker.errors.extensionCURL }}</span> cURL</h4>
          <p>
            cURL is a library that allows you to connect and communicate to many different type of servers. More information
            can be found on: <a href="http://php.net/curl">http://php.net/curl</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionLibXML }}">{{ checker.errors.extensionLibXML }}</span> libxml</h4>
          <p>
            libxml is a software library for parsing XML documents. More information
            can be found on: <a href="http://php.net/libxml">http://php.net/libxml</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionDOM }}">{{ checker.errors.extensionDOM }}</span> DOM</h4>
          <p>
            The DOM extension allows you to operate on XML documents through the DOM API with PHP 5. More information
            can be found on: <a href="http://php.net/dom">http://php.net/dom</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionSimpleXML }}">{{ checker.errors.extensionSimpleXML }}</span> SimpleXML</h4>
          <p>
            The SimpleXML extension provides a very simple and easily usable toolset to convert XML to an object that can be
            processed with normal property selectors and array iterators. More information can be found on:
            <a href="http://php.net/simplexml">http://php.net/simplexml</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionSPL }}">{{ checker.errors.extensionSPL }}</span> SPL</h4>
          <p>
            SPL is a collection of interfaces and classes that are meant to solve standard problems. More information can be found
            on: <a href="http://php.net/SPL">http://php.net/SPL</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionPDO }}">{{ checker.errors.extensionPDO }}</span> PDO</h4>
          <p>
            PDO provides a data-access abstraction layer, which means that, regardless of which database you're using, you use the
            same functions to issue queries and fetch data. More information can be found on: <a href="http://php.net/pdo">http://php.net/pdo</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionPDOMySQL }}">{{ checker.errors.extensionPDOMySQL }}</span> PDO MySQL driver</h4>
          <p>
            PDO_MYSQL is a driver that implements the PHP Data Objects (PDO) interface to enable access from PHP to MySQL databases.
            More information can be found on: <a href="http://www.php.net/manual/en/ref.pdo-mysql.php">http://www.php.net/manual/en/ref.pdo-mysql.php</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionMBString }}">{{ checker.errors.extensionMBString }}</span> mb_string</h4>
          <p>
            mb_string provides multibyte specific string functions that help you deal with multibyte encodings in PHP. In addition to
            that, mb_string handles character encoding conversion between the possible encoding pairs. mb_string is designed to handle Unicode-based
            encodings. More information can be found on: <a href="http://php.net/mb_string">http://php.net/mb_string</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionIconv }}">{{ checker.errors.extensionIconv }}</span> iconv</h4>
          <p>
            This module contains an interface to iconv character set conversion facility. With this module, you can turn a string
            represented by a local character set into the one represented by another character set, which may be the Unicode
            character set. More information can be found on: <a href="http://php.net/iconv">http://php.net/iconv</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionGD2 }}">{{ checker.errors.extensionGD2 }}</span> GD2</h4>
          <p>
            PHP is not limited to creating just HTML output. It can also be used to create and manipulate image files in a variety of
            different image formats. More information can be found on: <a href="http://php.net/gd">http://php.net/gd</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionJSON }}">{{ checker.errors.extensionJSON }}</span> json</h4>
          <p>
            This extension implements the JavaScript Object Notation (JSON) data-interchange format. The decoding is handled by a parser
            based on the JSON_checker by Douglas Crockford. More information can be found on: <a href="http://php.net/json">http://php.net/json</a>.
          </p>

          <h4><span class="{{ checker.errors.extensionPCRE }}">{{ checker.errors.extensionPCRE }}</span> PCRE (8.0+)</h4>
          <p>
            The PCRE library is a set of functions that implement regular expression pattern matching using the same syntax and semantics as Perl 5,
            with just a few differences (see below). The current implementation corresponds to Perl 5.005. More information can be found on:
            <a href="http://php.net/pcre">http://php.net/json</a>. We require at least 8.0.
          </p>

          <h3>PHP ini-settings</h3>
          <h4><span class="{{ checker.errors.settingsSafeMode }}">{{ checker.errors.settingsSafeMode }}</span> Safe Mode</h4>
          <p><strong>As of PHP 5.3.0 Safe Mode is deprecated.</strong> For forward compatibility we highly recommend you to disable Safe Mode.</p>

          <h4><span class="{{ checker.errors.settingsOpenBasedir }}">{{ checker.errors.settingsOpenBasedir }}</span> Open Basedir</h4>
          <p>For forward compatibility we highly recommend you not to use open_basedir.</p>

          <h4><span class="{{ checker.errors.settingsDateTimezone }}">{{ checker.errors.settingsDateTimezone }}</span> date.timezone</h4>
          <p>date.timezone setting must be set. Make sure your default timezone is supported by your installation of PHP. Check for typos in your php.ini file and have a look at the list of deprecated timezones at <a href="http://php.net/manual/en/timezones.others.php">http://php.net/manual/en/timezones.others.php</a>.</p>

          <h3>Functions</h3>
          <h4><span class="{{ checker.errors.functionJsonEncode }}">{{ checker.errors.functionJsonEncode }}</span> json_encode</h4>
          <p>json_encode() must be available, install and enable the JSON extension.</p>

          <h4><span class="{{ checker.errors.functionSessionStart }}">{{ checker.errors.functionSessionStart }}</span> session_start</h4>
          <p>session_start() must be available, install and enable the session extension.</p>

          <h4><span class="{{ checker.errors.functionCtypeAlpha }}">{{ checker.errors.functionCtypeAlpha }}</span> ctype_alpha</h4>
          <p>ctype_alpha() must be available, install and enable the ctype extension.</p>

          <h4><span class="{{ checker.errors.functionTokenGetAll }}">{{ checker.errors.functionTokenGetAll }}</span> token_get_all</h4>
          <p>token_get_all() must be available, install and enable the Tokenizer extension.</p>

          <h4><span class="{{ checker.errors.functionSimplexmlImportDom }}">{{ checker.errors.functionSimplexmlImportDom }}</span> simplexml_import_dom</h4>
          <p>simplexml_import_dom() must be available, install and enable the SimpleXML extension.</p>

          <h3>Web server</h3>
          <h4><span class="{{ checker.errors.modRewrite }}">{{ checker.errors.modRewrite }}</span> mod_rewrite</h4>
          <p>
            Fork CMS will not be able to run if mod_rewrite can not be applied. Please make sure that the .htaccess file is present (the file
            starts with a dot, so it may be hidden on your filesystem), being read (AllowOverride directive) and the mod_rewrite module is
            enabled in Apache. If you are installing Fork CMS on another web server than Apache, make sure you have manually configured your
            web server to properly rewrite urls. More information can be found in our
            <a href="http://www.fork-cms.com/knowledge-base/detail/fork-cms-and-webservers" title="Fork CMS and web servers">knowledge base</a>.
            If you are certain that your server is well configured, you may proceed the installation despite this warning.
          </p>

          <h3>Required permissions and/or files</h3>
          <h4><span class="{{ checker.errors.fileSystemBackendCache }}">{{ checker.errors.fileSystemBackendCache }}</span> {{ rootDir }}/src/Backend/Cache/*</h4>
          <p>In this location all files created by the backend will be stored. This location and all subdirectories must be writable.</p>

          <h4><span class="{{ checker.errors.fileSystemBackendModules }}">{{ checker.errors.fileSystemBackendModules }}</span> {{ rootDir }}/src/Backend/Modules/</h4>
          <p>In this location modules will be installed. You can continue the installation, but installing a module will then require a manual upload.</p>

          <h4><span class="{{ checker.errors.fileSystemFrontendCache }}">{{ checker.errors.fileSystemFrontendCache }}</span> {{ rootDir }}/src/Frontend/Cache/*</h4>
          <p>In this location all files created by the frontend will be stored. This location and all subdirectories must be writable.</p>

          <h4><span class="{{ checker.errors.fileSystemFrontendFiles }}">{{ checker.errors.fileSystemFrontendFiles }}</span> {{ rootDir }}/src/Frontend/Files/*</h4>
          <p>In this location all files uploaded by the user/modules will be stored. This location and all subdirectories must be writable.</p>

          <h4><span class="{{ checker.errors.fileSystemFrontendModules }}">{{ checker.errors.fileSystemFrontendModules }}</span> {{ rootDir }}/src/Frontend/Modules/</h4>
          <p>In this location modules will be installed. You can continue the installation, but installing a module will then require a manual upload.</p>

          <h4><span class="{{ checker.errors.fileSystemFrontendThemes }}">{{ checker.errors.fileSystemFrontendThemes }}</span> {{ rootDir }}/src/Frontend/Themes/</h4>
          <p>In this location themes will be installed. You can continue the installation, but installing a theme will then require a manual upload.</p>

          <h4><span class="{{ checker.errors.fileSystemLibrary }}">{{ checker.errors.fileSystemLibrary }}</span> {{ rootDir }}/library</h4>
          <p>This location must be writable for the installer, afterwards this folder only needs to be readable.</p>

          <h4><span class="{{ checker.errors.fileSystemLibraryExternal }}">{{ checker.errors.fileSystemLibraryExternal }}</span> {{ rootDir }}/library/external/</h4>
          <p>This location must be writable for the installer, afterwards this folder only needs to be readable.</p>

          <h4><span class="{{ checker.errors.fileSystemAppCache }}">{{ checker.errors.fileSystemAppCache }}</span> {{ rootDir }}/app/cache/</h4>
          <p>In this location the global cache will be stored.</p>

          <h4><span class="{{ checker.errors.fileSystemAppLogs }}">{{ checker.errors.fileSystemAppLogs }}</span> {{ rootDir }}/app/logs/</h4>
          <p>In this location the global logs will be stored.</p>

          <h4><span class="{{ checker.errors.fileSystemAppConfig }}">{{ checker.errors.fileSystemAppConfig }}</span> {{ rootDir }}/app/config/</h4>
          <p>In this location the global configuration will be stored.</p>

          <h4><span class="{{ checker.errors.fileSystemParameters }}">{{ checker.errors.fileSystemParameters }}</span> {{ rootDir }}/app/config/parameters.yml.dist</h4>
          <p>This file is used to create the global configuration file.</p>
        </div>
      </div>

      {% if checker.hasWarnings and not checker.hasErrors %}
        <div class="fullwidthOptions">
          <div class="buttonHolder">
            <a href="{{ path('install_step2') }}" id="installerButton" class="inputButton button mainButton" name="installer">Install anyway</a>
          </div>
        </div>
      {% endif %}
    </div>
  </form>

{% endblock %}
