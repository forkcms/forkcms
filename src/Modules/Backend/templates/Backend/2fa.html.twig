{% extends '@Backend/base/empty.html.twig' %}
{% import '@Backend/base/macros.html.twig' as macro %}

{% block bodyAttributes %}
  id="login"
  class="backend_login"
{% endblock %}

{% block content %}

<form method="post" action="{{ checkPathUrl ? checkPathUrl: path(checkPathRoute) }}">
  {% if isCsrfProtectionEnabled %}
    <input type="hidden" name="{{ csrfParameterName }}" value="{{ csrf_token(csrfTokenId) }}">
  {% endif %}
  <div class="login-block">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
          <div class="page-header page-header-login">
            <div class="site-info">
              <img class="site-icon" src="/assets/theme/images/apple-touch-icon.png" alt="{{ SITE_TITLE }} logo">
              <div class="site-text">
                <h1 class="site-title">{{ SITE_TITLE }}</h1>
                <a class="site-url" href="{{ SITE_URL }}">{{ SITE_URL }}</a>
              </div>
            </div>
          </div>

          {% if authenticationError %}
            {{ macro.alert('danger', authenticationError|trans(authenticationErrorData, 'SchebTwoFactorBundle')) }}
          {% endif %}

          <div class="login-form">
            <div class="form-group">
              <label for="{{ authCodeParameterName }}">{{ 'lbl.VerificationCode'|trans }}</label>
              <div class="input-group">
                <div class="input-group-text">
                  <svg class="svg-inline--fa fa-envelope fa-w-16 fa-fw" focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                    <path fill="currentColor" d="M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8V444.8C394 378 431.1 230.1 432 141.4L256 66.8l0 0z"/>
                  </svg>
                  <label class="visually-hidden" for="{{ authCodeParameterName }}">{{ 'lbl.Email'|trans|ucfirst }}</label>
                </div>
                <input
                  id="_auth_code"
                  type="text"
                  name="{{ authCodeParameterName }}"
                  autocomplete="one-time-code"
                  autofocus
                  class="form-control"
                />
              </div>
            </div>
            <div class="form-group">
              {% if displayTrustedOption %}
                <div class="form-check form-switch">
                  <input class="form-check-input" type="checkbox" name="{{ trustedParameterName }}" id="_trusted">
                  <label class="form-check-label" for="{{ trustedParameterName }}">{{ "msg.TrustedDevices"|trans }}</label>
                </div>
              {% endif %}

              <div class="btn-toolbar justify-content-end">
                <div class="btn-group">
                  <a class="btn btn-link" href="{{ logoutPath }}">{{ "cancel"|trans({}, 'SchebTwoFactorBundle') }}</a>
                  {{ macro.buttonIcon('', 'sign-in-alt', 'login'|trans({}, 'SchebTwoFactorBundle')|ucfirst, 'btn-primary', {"name":"login", "type":"submit"}) }}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
{% endblock %}

